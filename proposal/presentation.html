<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Trần Tiến Đức - MSSV: 18133007" />
  <meta name="date" content="2021-01-06" />
  <meta name="copyright" content="Đề xuất về phim" />
  <title>Đề xuất</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">
body
{
margin: 0 0 0 0;
padding: 0 0 0 0;
width: 100%;
height: 100%;
color: black;
background-color: white;
font-family: "Gill Sans MT", "Gill Sans", GillSans, sans-serif;
font-size: 14pt;
}
div.toolbar {
position: fixed; z-index: 200;
top: auto; bottom: 0; left: 0; right: 0;
height: 1.2em; text-align: right;
padding-left: 1em;
padding-right: 1em; font-size: 60%;
color: DimGray;
background-color: rgb(240,240,240);
border-top: solid 1px rgb(180,180,180);
}
div.toolbar span.copyright {
color: DimGray;
margin-left: 0.5em;
}
div.initial_prompt {
position: absolute;
z-index: 1000;
bottom: 1.2em;
width: 100%;
background-color: rgb(200,200,200);
opacity: 0.35;
background-color: rgb(200,200,200, 0.35);
cursor: pointer;
}
div.initial_prompt p.help {
text-align: center;
}
div.initial_prompt p.close {
text-align: right;
font-style: italic;
}
div.slidy_toc {
position: absolute;
z-index: 300;
width: 60%;
max-width: 30em;
height: 30em;
overflow: auto;
top: auto;
right: auto;
left: 4em;
bottom: 4em;
padding: 1em;
background: rgb(240,240,240);
border-style: solid;
border-width: 2px;
font-size: 60%;
}
div.slidy_toc .toc_heading {
text-align: center;
width: 100%;
margin: 0;
margin-bottom: 1em;
border-bottom-style: solid;
border-bottom-color: rgb(180,180,180);
border-bottom-width: 1px;
}
div.slide {
z-index: 20;
margin: 0 0 0 0;
padding-top: 0;
padding-bottom: 0;
padding-left: 20px;
padding-right: 20px;
border-width: 0;
clear: both;
top: 0;
bottom: 0;
left: 0;
right: 0;
line-height: 120%;
background-color: transparent;
}
div.background {
display: none;
}
div.handout {
margin-left: 20px;
margin-right: 20px;
}
div.slide.titlepage {
text-align: center;
}
div.slide.titlepage h1 {
padding-top: 10%;
margin-right: 0;
}
div.slide h1 {
padding-left: 0;
padding-right: 20pt;
padding-top: 4pt;
padding-bottom: 4pt;
margin-top: 0;
margin-left: 0;
margin-right: 60pt;
margin-bottom: 0.5em;
display: block; font-size: 160%;
line-height: 1.2em;
background: transparent;
}
@media screen and (max-device-width: 1024px)
{
div.slide { font-size: 100%; }
}
@media screen and (max-device-width: 800px)
{
div.slide { font-size: 200%; }
div.slidy_toc {
top: 1em;
left: 1em;
right: auto;
width: 80%;
font-size: 180%;
}
}
div.toc-heading {
width: 100%;
border-bottom: solid 1px rgb(180,180,180);
margin-bottom: 1em;
text-align: center;
}
img {
image-rendering: optimize-quality;
}
pre {
font-size: 80%;
font-weight: bold;
line-height: 120%;
padding-top: 0.2em;
padding-bottom: 0.2em;
padding-left: 1em;
padding-right: 1em;
border-style: solid;
border-left-width: 1em;
border-top-width: thin;
border-right-width: thin;
border-bottom-width: thin;
border-color: #95ABD0;
color: #00428C;
background-color: #E4E5E7;
}
li pre { margin-left: 0; }
blockquote { font-style: italic }
img { background-color: transparent }
p.copyright { font-size: smaller }
.center { text-align: center }
.footnote { font-size: smaller; margin-left: 2em; }
a img { border-width: 0; border-style: none }
a:visited { color: navy }
a:link { color: navy }
a:hover { color: red; text-decoration: underline }
a:active { color: red; text-decoration: underline }
a {text-decoration: none}
.toolbar a:link {color: blue}
.toolbar a:visited {color: blue}
.toolbar a:active {color: red}
.toolbar a:hover {color: red}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
li { margin-left: 0.5em; margin-top: 0.5em; }
li li { font-size: 85%; font-style: italic }
li li li { font-size: 85%; font-style: normal }
div dt
{
margin-left: 0;
margin-top: 1em;
margin-bottom: 0.5em;
font-weight: bold;
}
div dd
{
margin-left: 2em;
margin-bottom: 0.5em;
}
p,pre,ul,ol,blockquote,h2,h3,h4,h5,h6,dl,table {
margin-left: 1em;
margin-right: 1em;
}
p.subhead { font-weight: bold; margin-top: 2em; }
.smaller { font-size: smaller }
.bigger { font-size: 130% }
td,th { padding: 0.2em }
ul {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ol {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
ul li { list-style: square;
margin: 0.1em 0em 0.6em 0;
padding: 0 0 0 0;
line-height: 140%;
}
ol li { margin: 0.1em 0em 0.6em 1.5em;
padding: 0 0 0 0px;
line-height: 140%;
list-style-type: decimal;
}
li ul li { font-size: 85%; font-style: italic;
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li li ul li { font-size: 85%; font-style: normal;
list-style-type: circle;
background: transparent;
padding: 0 0 0 0;
}
li li li ul li {
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li ol li {
list-style-type: decimal;
}
li li ol li {
list-style-type: decimal;
}

ol.outline li:hover { cursor: pointer }
ol.outline li.nofold:hover { cursor: default }
ul.outline li:hover { cursor: pointer }
ul.outline li.nofold:hover { cursor: default }
ol.outline { list-style:decimal; }
ol.outline ol { list-style-type:lower-alpha }
ol.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ol.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ol.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ul.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}

a.titleslide { font-weight: bold; font-style: italic }

img.hidden { display: none; visibility: hidden }
div.initial_prompt { display: none; visibility: hidden }
div.slide {
visibility: visible;
position: inherit;
}
div.handout {
border-top-style: solid;
border-top-width: thin;
border-top-color: black;
}
@media screen {
.hidden { display: none; visibility: visible }
div.slide.hidden { display: block; visibility: visible }
div.handout.hidden { display: block; visibility: visible }
div.background { display: none; visibility: hidden }
body.single_slide div.initial_prompt { display: block; visibility: visible }
body.single_slide div.background { display: block; visibility: visible }
body.single_slide div.background.hidden { display: none; visibility: hidden }
body.single_slide .invisible { visibility: hidden }
body.single_slide .hidden { display: none; visibility: hidden }
body.single_slide div.slide { position: absolute }
body.single_slide div.handout { display: none; visibility: hidden }
}
@media print {
.hidden { display: block; visibility: visible }
div.slide pre { font-size: 60%; padding-left: 0.5em; }
div.toolbar { display: none; visibility: hidden; }
div.slidy_toc { display: none; visibility: hidden; }
div.background { display: none; visibility: hidden; }
div.slide { page-break-before: always }

div.slide.first-slide { page-break-before: avoid }
}


.jslider table {
margin-left: 0em;
margin-right: 0em;
}

table.dataTable, .shiny-datatable-output div {
font-size: 14pt;
}

.dataTables_info, .dataTables_paginate {
font-size: 19px;
}

pre.sourceCode, code.sourceCode {
font-size: 80%;
}

label, button, input, select, textarea {
font-size: 14pt;
}

ul.nav, ul.nav li {
list-style-type: none;
}
</style>
  <script src="data:application/javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Đề xuất</h1>
  <p class="author">
Trần Tiến Đức - MSSV: 18133007
  </p>
  <p class="date">January 6, 2021</p>
</div>
<div id="gii-thiu-nhom" class="slide section level2">
<h1>Giới thiệu nhóm</h1>
<p>Nhóm: 1. Trần Tiến Đức 18133007 <br /> 2. Lương Uy Long 18133026 <br /> 3. Lê Đỗ Trà My 18133030 <br /> 4. Trần Như Thuận 18133054 <br /></p>
</div>
<div id="-xut-proposal" class="slide section level2">
<h1>Đề xuất (Proposal)</h1>
<p>Giới thiệu: Giới thiệu tập dữ liệu và câu hỏi nghiên cứu (dữ liệu lấy ở đâu, nó được thu thập thế nào, mỗi đối tượng dữ liệu là gì, có các biến nào, …). <br /> -Tập dữ liệu “IDMS 5000 MOVIES” lấy từ Kaggle datasets. <br /></p>
<pre><code>Internet Movie Database (IMDb - cơ sở dữ liệu điện ảnh trên Internet) là một trang cơ sở dữ liệu trực tuyến về điện ảnh thế giới. &lt;br /&gt;</code></pre>
<p>Nó cung cấp thông tin về phim, diễn viên, đạo diễn, nhà làm phim… và tất cả những người, công ty trong lĩnh vực sản xuất phim, phim truyền hình và cả trò chơi video. <br /></p>
<pre><code>Được giới thiệu lần đầu vào năm 1990 bởi lập trình viên máy tính Col Needham, sau đó công ty được thành lập ở Anh như với tên Công ty TNHH Internet Movie Database năm 1996 với doanh thu tạo ra thông qua quảng cáo, cấp phép và hợp tác. Năm 1998 nó trở thành một công ty con của Amazon cho phép mọi người đều có thể sử dụng như là một nguồn tài nguyên quảng cáo để bán đĩa DVD và băng video.</code></pre>
</div>
<div id="mo-ta-dataset" class="slide section level2">
<h1>Mô tả dataset</h1>
<p>-Mô tả: Tập dữ liệu gồm thông tin chi tiết của 5043 bộ phim trên 66 quốc gia, gồm 28 thuộc tính lần lượt như sau: ## Tóm tắt dữ liệu</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<pre><code>## Registered S3 method overwritten by 'rvest':
##   method            from
##   read_xml.response xml2</code></pre>
<pre><code>## -- Attaching packages ---------------------------------- tidyverse 1.2.1 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.2
## v tibble  3.0.4     v dplyr   1.0.2
## v tidyr   0.8.3     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.4.0</code></pre>
<pre><code>## Warning: package 'ggplot2' was built under R version 3.6.3</code></pre>
<pre><code>## Warning: package 'tibble' was built under R version 3.6.3</code></pre>
<pre><code>## Warning: package 'dplyr' was built under R version 3.6.3</code></pre>
<pre><code>## -- Conflicts ------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">data_source &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;D:/University/HCMUTE/Semesters/third semester 1/courses/R for Analytics/project/data/movie_metadata.csv&quot;</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">size &lt;-<span class="st"> </span><span class="kw">dim</span>(data_source)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">size</a></code></pre></div>
<pre><code>## [1] 5043   29</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">glimpse</span>(data_source)</a></code></pre></div>
<pre><code>## Rows: 5,043
## Columns: 29
## $ movie_id                  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 1...
## $ color                     &lt;fct&gt; Color, Color, Color, Color, , Color,...
## $ director_name             &lt;fct&gt; James Cameron, Gore Verbinski, Sam M...
## $ num_critic_for_reviews    &lt;int&gt; 723, 302, 602, 813, NA, 462, 392, 32...
## $ duration                  &lt;int&gt; 178, 169, 148, 164, NA, 132, 156, 10...
## $ director_facebook_likes   &lt;int&gt; 0, 563, 0, 22000, 131, 475, 0, 15, 0...
## $ actor_3_facebook_likes    &lt;int&gt; 855, 1000, 161, 23000, NA, 530, 4000...
## $ actor_2_name              &lt;fct&gt; Joel David Moore, Orlando Bloom, Ror...
## $ actor_1_facebook_likes    &lt;int&gt; 1000, 40000, 11000, 27000, 131, 640,...
## $ gross                     &lt;int&gt; 760505847, 309404152, 200074175, 448...
## $ genres                    &lt;fct&gt; Action|Adventure|Fantasy|Sci-Fi, Act...
## $ actor_1_name              &lt;fct&gt; CCH Pounder, Johnny Depp, Christoph ...
## $ movie_title               &lt;fct&gt; AvatarÂ , Pirates of the Caribbean: ...
## $ num_voted_users           &lt;int&gt; 886204, 471220, 275868, 1144337, 8, ...
## $ cast_total_facebook_likes &lt;int&gt; 4834, 48350, 11700, 106759, 143, 187...
## $ actor_3_name              &lt;fct&gt; Wes Studi, Jack Davenport, Stephanie...
## $ facenumber_in_poster      &lt;int&gt; 0, 0, 1, 0, 0, 1, 0, 1, 4, 3, 0, 0, ...
## $ plot_keywords             &lt;fct&gt; avatar|future|marine|native|parapleg...
## $ movie_imdb_link           &lt;fct&gt; http://www.imdb.com/title/tt0499549/...
## $ num_user_for_reviews      &lt;int&gt; 3054, 1238, 994, 2701, NA, 738, 1902...
## $ language                  &lt;fct&gt; English, English, English, English, ...
## $ country                   &lt;fct&gt; USA, USA, UK, USA, , USA, USA, USA, ...
## $ content_rating            &lt;fct&gt; PG-13, PG-13, PG-13, PG-13, , PG-13,...
## $ budget                    &lt;dbl&gt; 237000000, 300000000, 245000000, 250...
## $ title_year                &lt;int&gt; 2009, 2007, 2015, 2012, NA, 2012, 20...
## $ actor_2_facebook_likes    &lt;int&gt; 936, 5000, 393, 23000, 12, 632, 1100...
## $ imdb_score                &lt;dbl&gt; 7.9, 7.1, 6.8, 8.5, 7.1, 6.6, 6.2, 7...
## $ aspect_ratio              &lt;dbl&gt; 1.78, 2.35, 2.35, 2.35, NA, 2.35, 2....
## $ movie_facebook_likes      &lt;int&gt; 33000, 0, 85000, 164000, 0, 24000, 0...</code></pre>
</div>
<div id="tach-mu" class="slide section level2">
<h1>Tách mẫu</h1>
<p>-Mẫu lựa chọn: lấy từ tập dữ liệu ngẫu nhiên với cỡ mẫu khoảng 252(1/20 so với tập dữ liệu) <br /></p>
<pre><code>##      movie_id            color           director_name
## 9           9            Color             Joss Whedon
## 106       106            Color       Wolfgang Petersen
## 120       120            Color               Brad Bird
## 127       127            Color          Lana Wachowski
## 144       144            Color             Simon Wells
## 166       166            Color             Zack Snyder
## 171       171            Color      Hironobu Sakaguchi
## 184       184            Color         Paul Greengrass
## 197       197            Color            Baz Luhrmann
## 205       205            Color            Hideaki Anno
## 248       248            Color         Roger Donaldson
## 266       266            Color              Shawn Levy
## 302       302  Black and White        Stefen Fangmeier
## 310       310            Color         Joel Schumacher
## 316       316            Color            Ron Clements
## 326       326            Color         Stephen Sommers
## 335       335            Color           Bibo Bergeron
## 338       338            Color           Peter Jackson
## 351       351            Color            Renny Harlin
## 375       375            Color             Rob Minkoff
## 383       383            Color              Tony Scott
## 387       387            Color            Mick Jackson
## 409       409            Color            Nancy Meyers
## 418       418            Color            Rob Marshall
## 572       572            Color              Adam McKay
## 600       600            Color           Antoine Fuqua
## 602       602            Color      Jonathan Liebesman
## 620       620            Color           Gary McKendry
## 671       671            Color           Larry Charles
## 693       693            Color          Sydney Pollack
## 698       698            Color        Steven Spielberg
## 702       702            Color     Keenen Ivory Wayans
## 704       704            Color              Rob Reiner
## 765       765            Color           Antoine Fuqua
## 773       773            Color          Clint Eastwood
## 778       778            Color            Jorge Blanco
## 828       828            Color         Taylor Hackford
## 831       831            Color            Brett Ratner
## 898       898            Color           Anthony Russo
## 923       923            Color             Paul Hunter
## 965       965            Color         Angela Robinson
## 978       978            Color           Howard Deutch
## 983       983            Color               Joe Dante
## 1005     1005            Color          Clint Eastwood
## 1006     1006            Color              Tom Tykwer
## 1018     1018            Color      David Gordon Green
## 1049     1049            Color            Iain Softley
## 1081     1081            Color         Joel Schumacher
## 1082     1082            Color              Rob Reiner
## 1098     1098            Color              Luis Llosa
## 1103     1103            Color              Joel Zwick
## 1110     1110            Color          David R. Ellis
## 1117     1117            Color       Mathieu Kassovitz
## 1127     1127            Color          Roman Polanski
## 1136     1136            Color           Oliver Parker
## 1146     1146            Color             Len Wiseman
## 1203     1203            Color              Etan Cohen
## 1214     1214  Black and White            Frank Miller
## 1243     1243  Black and White            Iain Softley
## 1278     1278            Color             Peter Hyams
## 1282     1282            Color         Martin Scorsese
## 1322     1322            Color         Richard Shepard
## 1329     1329            Color             Alex Proyas
## 1337     1337            Color          Richard Lester
## 1382     1382            Color Rawson Marshall Thurber
## 1383     1383            Color        Fedor Bondarchuk
## 1391     1391            Color              Rob Reiner
## 1392     1392            Color             Scott Hicks
## 1429     1429            Color        John Lee Hancock
## 1490     1490            Color            Dominic Sena
## 1497     1497            Color         Robert Zemeckis
## 1538     1538            Color           Neil Marshall
## 1604     1604            Color          Clint Eastwood
## 1627     1627            Color             Gary Winick
## 1644     1644            Color           James Gartner
## 1651     1651            Color          John Stockwell
## 1655     1655            Color         Jason Friedberg
## 1657     1657            Color     Paul Michael Glaser
## 1665     1665            Color                        
## 1669     1669            Color       Steven Soderbergh
## 1779     1779            Color     Michael Caton-Jones
## 1793     1793            Color             Jeff Wadlow
## 1804     1804            Color          Nicholas Meyer
## 1829     1829            Color            Renny Harlin
## 1873     1873            Color         Michael Hoffman
## 1878     1878            Color            Raja Gosnell
## 1919     1919            Color          Bille Woodruff
## 1935     1935            Color              Bob Spiers
## 1950     1950            Color           Sylvain White
## 1995     1995            Color          David R. Ellis
## 2008     2008            Color         Guillaume Canet
## 2022     2022            Color              Wes Craven
## 2044     2044            Color             Steve Boyum
## 2048     2048            Color          Hayao Miyazaki
## 2057     2057            Color             David Twohy
## 2075     2075            Color          Stephen Frears
## 2085     2085            Color        John Lee Hancock
## 2089     2089  Black and White    Richard Attenborough
## 2109     2109            Color            Harry Elfont
## 2146     2146            Color    Joshua Michael Stern
## 2150     2150            Color            Jodie Foster
## 2170     2170            Color           Paul McGuigan
## 2181     2181            Color        William Friedkin
## 2185     2185            Color            Ava DuVernay
## 2187     2187            Color             Stephen Kay
## 2189     2189            Color         Jun Falkenstein
## 2206     2206            Color              Shawn Levy
## 2209     2209            Color         John Luessenhop
## 2220     2220            Color          Stephen Frears
## 2233     2233            Color            Simon Wincer
## 2267     2267            Color          George Stevens
## 2276     2276            Color             Woody Allen
## 2286     2286            Color          Stephen Frears
## 2329     2329            Color        Richard Benjamin
## 2335     2335            Color        Katsuhiro Ã”tomo
## 2351     2351            Color               Tom Walsh
## 2390     2390            Color           Terry Gilliam
## 2397     2397            Color           Leonard Nimoy
## 2418     2418            Color          Bille Woodruff
## 2457     2457            Color            Jeff Nichols
## 2465     2465            Color           NimrÃ³d Antal
## 2469     2469            Color              Lance Hool
## 2477     2477            Color             Tyler Perry
## 2482     2482            Color             Xavier Gens
## 2485     2485            Color             Matt Dillon
## 2486     2486            Color     Alejandro AmenÃ¡bar
## 2512     2512            Color            Trent Cooper
## 2546     2546  Black and White     Michel Hazanavicius
## 2558     2558            Color         Sheldon Lettich
## 2580     2580            Color         Russell Mulcahy
## 2604     2604            Color          Sydney Pollack
## 2615     2615            Color           Morten Tyldum
## 2631     2631            Color          Barry Levinson
## 2638     2638            Color             Joel Gallen
## 2656     2656            Color         Nicholas Hytner
## 2684     2684            Color           Anton Corbijn
## 2697     2697            Color             Steve Gomer
## 2701     2701            Color           Terry Gilliam
## 2728     2728            Color                        
## 2730     2730            Color         Michael Chapman
## 2734     2734            Color             Atom Egoyan
## 2737     2737            Color             Gary Fleder
## 2742     2742            Color           Neil Marshall
## 2750     2750            Color      Anthony Silverston
## 2751     2751            Color           Gabe IbÃ¡Ã±ez
## 2767     2767            Color            John Cornell
## 2797     2797            Color              Chris Rock
## 2822     2822            Color          Amy Heckerling
## 2832     2832            Color         Jonathan Glazer
## 2833     2833            Color          Barry Levinson
## 2864     2864            Color          Clint Eastwood
## 2939     2939            Color            Mark Romanek
## 2967     2967            Color             Sanaa Hamri
## 3005     3005            Color     Marco Kreuzpaintner
## 3051     3051            Color         Reginald Hudlin
## 3059     3059            Color        Lasse HallstrÃ¶m
## 3081     3081            Color        Steven Spielberg
## 3090     3090            Color            Gus Van Sant
## 3094     3094            Color             Peyton Reed
## 3185     3185            Color             Mike Binder
## 3198     3198            Color               Tom Brady
## 3218     3218            Color           Joshua Seftel
## 3223     3223            Color              Bigas Luna
## 3232     3232            Color              Jeb Stuart
## 3247     3247            Color          Robert Adetuyi
## 3288     3288            Color           Michael Moore
## 3300     3300            Color   Christopher McQuarrie
## 3304     3304            Color                        
## 3324     3324            Color            Peter Faiman
## 3357     3357            Color           James Frawley
## 3360     3360            Color             Robert Wise
## 3374     3374            Color          Justin Tipping
## 3387     3387            Color              Troy Duffy
## 3393     3393            Color            Joe Nussbaum
## 3407     3407            Color             Steve James
## 3421     3421            Color          Robert Moresco
## 3425     3425            Color           John Herzfeld
## 3427     3427            Color            Keith Parmer
## 3439     3439            Color           Jason Reitman
## 3441     3441            Color           Lone Scherfig
## 3480     3480            Color        Robert Rodriguez
## 3495     3495  Black and White              Rob Zombie
## 3501     3501            Color                Tom Ford
## 3507     3507            Color             Tony Maylam
## 3508     3508            Color                        
## 3541     3541            Color          Clint Eastwood
## 3547     3547            Color        Max FÃ¤rberbÃ¶ck
## 3549     3549            Color           Damian Nieman
## 3552     3552            Color        Gabriele Muccino
## 3561     3561            Color         Stephen Sommers
## 3562     3562            Color              Doug Liman
## 3595     3595            Color             Walt Becker
## 3625     3625            Color   John Cameron Mitchell
## 3629     3629            Color            David Atkins
## 3639     3639                               Wayne Wang
## 3681     3681            Color               Spike Lee
## 3682     3682            Color            James Toback
## 3703     3703            Color            Stiles White
## 3743     3743            Color          Mickey Liddell
## 3755     3755            Color               Bill Duke
## 3783     3783            Color   John Cameron Mitchell
## 3795     3795            Color         Richard Wallace
## 3837     3837            Color       Leonard Farlinger
## 3840     3840            Color               Tom Kalin
## 3850     3850            Color        Darren Aronofsky
## 3883     3883            Color    Richard Kwietniowski
## 3885     3885            Color             Neil Jordan
## 3901     3901            Color                        
## 3953     3953            Color             Stephen Kay
## 3969     3969            Color          Fred Zinnemann
## 3973     3973            Color           Sam Peckinpah
## 3976     3976            Color      Christopher Morris
## 3995     3995            Color             Jack Smight
## 4032     4032            Color       Nathan Frankowski
## 4054     4054            Color              Kirk Jones
## 4096     4096            Color            Tom Schulman
## 4098     4098            Color           Jill Sprecher
## 4107     4107            Color             David Nixon
## 4146     4146            Color             Frank Capra
## 4161     4161            Color         Rajkumar Hirani
## 4164     4164            Color            Rohit Jugraj
## 4177     4177            Color                Hao Ning
## 4192     4192            Color           Ã‰ric Tessier
## 4211     4211            Color              Benni Diez
## 4221     4221            Color           Tim McCanlies
## 4307     4307            Color        Danny Provenzano
## 4373     4373            Color        Mitchell Altieri
## 4374     4374            Color              W.D. Hogan
## 4382     4382            Color              Todd Field
## 4434     4434            Color             John Sayles
## 4489     4489            Color     Claudia Sainte-Luce
## 4498     4498  Black and White             Walter Lang
## 4500     4500            Color           Anna Muylaert
## 4573     4573  Black and White          Khalid Mohamed
## 4577     4577            Color             Finn Taylor
## 4602     4602  Black and White           Eric Nicholas
## 4620     4620            Color          David DeCoteau
## 4643     4643            Color             David Slade
## 4656     4656            Color         Rich Christiano
## 4657     4657            Color    Paul Andrew Williams
## 4690     4690            Color        David LaChapelle
## 4691     4691            Color         Joseph Kosinski
## 4786     4786            Color           Matthew Watts
## 4817     4817            Color        Henry Alex Rubin
## 4871     4871            Color         Lori Silverbush
## 4876     4876            Color          Corbin Bernsen
## 4890     4890            Color           James O'Brien
## 4987     4987            Color           Bruno Barreto
## 4994     4994            Color          William Eubank
## 5010     5010            Color           James Bidgood
## 5032     5032            Color      Thomas L. Phillips
## 5040     5040            Color                        
##      num_critic_for_reviews duration director_facebook_likes
## 9                       635      141                       0
## 106                     231       98                     249
## 120                     318      111                     663
## 127                     275      138                       0
## 144                     132       88                      25
## 166                     451      215                       0
## 171                     166      106                       6
## 184                     329      115                     521
## 197                     245      165                    1000
## 205                       1      120                      28
## 248                      93      108                      79
## 266                     327      127                     189
## 302                     170      104                      14
## 310                     144      121                     541
## 316                     127       95                      63
## 326                     202      130                     208
## 335                      82       89                      10
## 338                     308      135                       0
## 351                      61      124                     212
## 375                     122       88                      50
## 383                     142      114                   12000
## 387                      84      104                      81
## 409                     157      138                     278
## 418                     229      145                     252
## 572                     164      122                     285
## 600                     358      119                     845
## 602                     355      116                     473
## 620                     189      116                       5
## 671                     313       99                     119
## 693                      96      133                     521
## 698                     308      127                   14000
## 702                      78       98                     322
## 704                      75      114                       0
## 765                     198      124                     845
## 773                     306      134                   16000
## 778                     156       91                       2
## 828                     117      136                     138
## 831                     117       97                     420
## 898                     136      110                      94
## 923                     127      104                      13
## 965                     117      101                      23
## 978                     118      118                      41
## 983                     105      106                     287
## 1005                    146      110                   16000
## 1006                    245      118                     670
## 1018                    208      102                     234
## 1049                    140      120                      34
## 1081                     39      119                     541
## 1082                    207       97                       0
## 1098                     38      110                      49
## 1103                     59       93                      38
## 1110                    127       94                     160
## 1117                    164      101                     326
## 1127                    343      128                    2000
## 1136                    152      101                      32
## 1146                    206      102                     235
## 1203                    173      107                     164
## 1214                    374      147                     436
## 1243                    193      104                      34
## 1278                    107      104                       0
## 1282                    112      112                   17000
## 1322                     94      101                      47
## 1329                    118       98                     295
## 1337                     95      125                      44
## 1382                    289      118                      43
## 1383                     14      115                      35
## 1391                     31      130                       0
## 1392                     95      127                      96
## 1429                    405      125                     102
## 1490                    166      101                      57
## 1497                    335      123                       0
## 1538                    254      113                     197
## 1604                    229      138                   16000
## 1627                    119       98                      56
## 1644                     95      118                       0
## 1651                     69      104                     134
## 1655                    111       86                      82
## 1657                    120      101                     343
## 1665                     52       28                      NA
## 1669                    450      106                       0
## 1779                     44      139                     105
## 1793                    350      103                      65
## 1804                    112      110                     120
## 1829                    127      101                     212
## 1873                     85      118                      97
## 1878                     94       93                      67
## 1919                     72      105                      23
## 1935                     33       93                      14
## 1950                    213       97                      41
## 1995                    285      105                     160
## 2008                    118      134                       0
## 2022                    195      120                       0
## 2044                     18       93                       9
## 2048                    212      119                    6000
## 2057                    214      112                     123
## 2075                    155      100                     350
## 2085                     92      127                     102
## 2089                     95      240                       0
## 2109                     93       98                       4
## 2146                    131      120                       0
## 2150                    276       91                       0
## 2170                     98      114                     118
## 2181                    138      104                     607
## 2185                    364      128                     151
## 2187                    140       89                      19
## 2189                     89       77                      25
## 2206                    156      103                     189
## 2209                    282       92                      34
## 2220                    174      113                     350
## 2233                     20      119                      23
## 2267                     27      225                     126
## 2276                     67       98                   11000
## 2286                    137      103                     350
## 2329                     28       80                     121
## 2335                    105      103                      78
## 2351                      2       98                       2
## 2390                    156      118                       0
## 2397                    110      105                   12000
## 2418                     97       94                      23
## 2457                    263      112                     337
## 2465                    103       93                     190
## 2469                     10      121                       0
## 2477                     44      103                       0
## 2482                    193       94                      87
## 2485                     38      116                       0
## 2486                    239      101                     448
## 2512                     37       89                       0
## 2546                    576      100                     405
## 2558                     40      110                      23
## 2580                    112      110                      85
## 2604                     94      116                     521
## 2615                    454      114                      77
## 2631                    130       97                     272
## 2638                     97       99                      11
## 2656                     65      111                      13
## 2684                    291      122                     210
## 2697                     24       76                       9
## 2701                    230      142                       0
## 2728                      9      286                      NA
## 2730                     21       98                      70
## 2734                     95      116                     460
## 2737                     52      115                      39
## 2742                    195       97                     197
## 2750                     39       85                       0
## 2751                    136      109                      19
## 2767                     32      108                       5
## 2797                     97       94                       0
## 2822                     88       97                     143
## 2832                    454      108                     143
## 2833                     62      121                     272
## 2864                    251      141                   16000
## 2939                    207       96                     132
## 2967                     70      100                      43
## 3005                     69      120                       7
## 3051                     58       84                      71
## 3059                     80      118                     529
## 3081                    215      120                   14000
## 3090                    161      126                     835
## 3094                    139       98                     235
## 3185                     91      121                      57
## 3198                     49       97                     105
## 3218                     79      107                       0
## 3223                     22      101                     163
## 3232                     20      128                      11
## 3247                      5       91                       8
## 3288                    263      123                     909
## 3300                    117      119                     188
## 3304                      1       30                      NA
## 3324                     35       93                       4
## 3357                     63       95                      21
## 3360                    119      174                     338
## 3374                      6       80                       2
## 3387                     91      138                      78
## 3393                     83      104                      18
## 3407                     23      106                      23
## 3421                     26      107                      53
## 3425                     30       97                      17
## 3427                     21       96                       2
## 3439                    239       92                     655
## 3441                    278      100                      92
## 3480                     93      104                       0
## 3495                    202      105                       0
## 3501                    281       99                     192
## 3507                     39       96                       6
## 3508                     27       60                      NA
## 3541                     38      115                   16000
## 3547                     63      125                       4
## 3549                     25      101                       0
## 3552                     36      125                     125
## 3561                     14      108                     208
## 3562                    137      102                     218
## 3595                     96       94                      12
## 3625                    108       95                     263
## 3629                     84       95                       8
## 3639                     56      104                      61
## 3681                    103      120                       0
## 3682                     27       99                      56
## 3703                    183       89                      10
## 3743                     74       82                       7
## 3755                     45       99                    1000
## 3783                    248       91                     263
## 3795                      9       95                       5
## 3837                      8       89                       0
## 3840                    121       97                       4
## 3850                    234      102                       0
## 3883                     50       93                      23
## 3885                     63      112                     277
## 3901                      9       60                      NA
## 3953                     12       92                      19
## 3969                     62      120                     160
## 3973                     53      152                     541
## 3976                    246       97                      69
## 3995                     22      121                      22
## 4032                     17      102                      19
## 4054                     94       91                      52
## 4096                     30       95                      45
## 4098                     79      104                      11
## 4107                     19      110                      13
## 4146                     21      136                     964
## 4161                     15      144                     124
## 4164                      1      141                       2
## 4177                      5       99                       0
## 4192                      9       99                       0
## 4211                     95       87                       2
## 4221                     15       97                      23
## 4307                      5      100                      84
## 4373                     NA       87                       9
## 4374                     10       90                       4
## 4382                    179      138                     143
## 4434                     35      124                     407
## 4489                     50       89                       0
## 4498                      7       83                       9
## 4500                    111      112                       9
## 4573                      1      167                      10
## 4577                     28       97                       4
## 4602                     71       78                       0
## 4620                      7       83                     142
## 4643                    231      104                     171
## 4656                     16       95                      14
## 4657                     68       85                      46
## 4690                     49       86                      30
## 4691                      4       NA                     364
## 4786                      3       86                       0
## 4817                    110       88                      30
## 4871                     26       86                       5
## 4876                      3       95                    1000
## 4890                      5      105                       7
## 4987                      1       99                       9
## 4994                    161       97                      18
## 5010                      8       65                       0
## 5032                     13       82                     120
## 5040                     43       43                      NA
##      actor_3_facebook_likes             actor_2_name
## 9                     19000        Robert Downey Jr.
## 106                     702               Mike Vogel
## 120                     954        John Ratzenberger
## 127                      30         Daniel Bernhardt
## 144                     433               Dan Fogler
## 166                     413             Billy Crudup
## 171                     422              Ming-Na Wen
## 184                     883           Edgar RamÃ­rez
## 197                     165              Bryan Brown
## 205                      12        Shin'ya Tsukamoto
## 248                     268             Grant Heslov
## 266                     544     Torey Michael Adkins
## 302                     203              Ed Speleers
## 310                     680         Rene Auberjonois
## 316                     720             Martin Short
## 326                     591           Brendan Fraser
## 335                     442              Rosie Perez
## 338                     310              AJ Michalka
## 351                     810           Frank Langella
## 375                     441           Rachael Harris
## 383                     307          Stephen Dillane
## 387                     612               Anne Heche
## 409                     213             Rufus Sewell
## 418                     210                     Mako
## 572                     989              Leslie Bibb
## 600                     992           Morgan Freeman
## 602                     464              Jim Parrack
## 620                     748           Robert De Niro
## 671                     174             Aasif Mandvi
## 693                     970     Kristin Scott Thomas
## 698                     191          Ariana Richards
## 702                     723          Brittany Daniel
## 704                     452          Samantha Mathis
## 765                     295               Ned Beatty
## 773                     204           Morgan Freeman
## 778                     480              Gary Oldman
## 828                    9000                Al Pacino
## 831                     455              Don Cheadle
## 898                     240            Billy Gardell
## 923                     343                     Mako
## 965                     541            Thomas Lennon
## 978                     585              Jon Favreau
## 983                     767           Robert Picardo
## 1005                    581          Anjelica Huston
## 1006                    294        BrÃ­an F. O'Byrne
## 1018                  11000          Zooey Deschanel
## 1049                   1000             Jeff Bridges
## 1081                    551         Anthony LaPaglia
## 1082                    760            Noel Gugliemi
## 1098                     20              Rod Steiger
## 1103                    631                Nick Zano
## 1110                    167             Valerie Cruz
## 1117                    510       Charlotte Rampling
## 1127                    501          Olivia Williams
## 1136                    104            Tim McInnerny
## 1146                    520              Tony Curran
## 1203                    723              Alison Brie
## 1214                    175            Powers Boothe
## 1243                    280             Deneen Tyler
## 1278                    327          Justin Chambers
## 1282                    354          David Carradine
## 1322                      2               Zan Marolt
## 1329                    380                 Bai Ling
## 1337                    420            Robert Vaughn
## 1382                    651           Molly C. Quinn
## 1383                     30         Fedor Bondarchuk
## 1391                    723          Virginia Madsen
## 1392                    577             Reeve Carney
## 1429                    825              Ruth Wilson
## 1490                    230             Bashar Rahal
## 1497                      6         Soleyman Pierini
## 1538                     43               Jason Cope
## 1604                    262      Spencer Treat Clark
## 1627                    533               Judy Greer
## 1644                    543           Austin Nichols
## 1651                     64              Mika Boorem
## 1655                    362           Diedrich Bader
## 1657                    384    Maria Conchita Alonso
## 1665                    576           Kevin Connolly
## 1669                    273          David Costabile
## 1779                    902            Jason Flemyng
## 1793                    405            Donald Faison
## 1804                    664           Kurtwood Smith
## 1829                    749      Clifton Collins Jr.
## 1873                    437           Gerald McRaney
## 1878                    596         Linda Cardellini
## 1919                    485    Keshia Knight Pulliam
## 1935                    199           Richard Briers
## 1950                    619             Jason Patric
## 1995                    490           Kenan Thompson
## 2008                     92          BenoÃ®t Magimel
## 2022                    221       Jada Pinkett Smith
## 2044                    254              M.C. Gainey
## 2048                    422            Blythe Danner
## 2057                    787           Radha Mitchell
## 2075                     30              Iben Hjejle
## 2085                   1000            Jay Hernandez
## 2089                    249              Amrish Puri
## 2109                     83           Paulo Costanzo
## 2146                    886           Judge Reinhold
## 2150                    220             Cherry Jones
## 2170                     40      Christopher Cousins
## 2181                    109             Fernando Rey
## 2185                    852            Tom Wilkinson
## 2187                    349    Skye McCole Bartusiak
## 2189                     16             John Fiedler
## 2206                    949          Abigail Spencer
## 2209                    322   Keram Malicki-SÃ¡nchez
## 2220                    619              Lili Taylor
## 2233                    748              Tom Selleck
## 2267                    202            Carroll Baker
## 2276                    967         Chazz Palminteri
## 2286                     99        Christopher Guest
## 2329                    587           Jane Krakowski
## 2335                    101       Robin Atkin Downes
## 2351                     53           Maggie Wheeler
## 2390                    551            Michael Jeter
## 2397                    643         Nichelle Nichols
## 2418                    582             Mekhi Phifer
## 2457                    201              Sam Shepard
## 2465                    151           Mackenzie Gray
## 2469                    353       Joaquim de Almeida
## 2477                    543    Keshia Knight Pulliam
## 2482                    280            Dougray Scott
## 2485                     50            Shawn Andrews
## 2486                     83           Elaine Cassidy
## 2512                    323      Larry the Cable Guy
## 2546                    628                Ed Lauter
## 2558                     51              Alonna Shaw
## 2580                    186               Jon Polito
## 2604                    481           Sydney Pollack
## 2615                    305             Rory Kinnear
## 2631                    957            Kirsten Dunst
## 2638                    971    JoAnna Garcia Swisher
## 2656                    106                 Tim Daly
## 2684                    123                Nina Hoss
## 2697                     47               Kyla Pratt
## 2701                   1000              Bob Hoskins
## 2728                    527            Tom Hollander
## 2730                     90              Pamela Reed
## 2734                     71           Elaine Cassidy
## 2737                    642               Bill Cobbs
## 2742                    570                 JJ Feild
## 2750                    912            Steve Buscemi
## 2751                    537           Robert Forster
## 2767                     57          Linda Kozlowski
## 2797                    458              Eliza Coupe
## 2822                    201               Dan Hedaya
## 2832                     21           Paul Brannigan
## 2833                    227               J.T. Walsh
## 2864                     78        Kazunari Ninomiya
## 2939                    933                Gary Cole
## 2967                    696               Laz Alonso
## 3005                    289        Kate del Castillo
## 3051                    553         John Witherspoon
## 3059                    472        Leonardo DiCaprio
## 3081                    548              Dee Wallace
## 3090                    893               Matt Damon
## 3094                    229           Lindsay Sloane
## 3185                    664           Gillian Jacobs
## 3198                    269             Kevin Nealon
## 3218                     91        Sergej Trifunovic
## 3223                     34   Aitana SÃ¡nchez-GijÃ³n
## 3232                    553              Nate Parker
## 3247                    111           Mishael Morgan
## 3288                    184          Tucker Albrizzi
## 3300                     35               Nicky Katt
## 3304                    140     Katherine Kelly Lang
## 3324                     93          Linda Kozlowski
## 3357                    842               Jim Henson
## 3360                    195        Angela Cartwright
## 3374                    102 Natalie Stephany Aguilar
## 3387                    968               Julie Benz
## 3393                    741          Thomas McDonell
## 3407                    200          Laurel Holloman
## 3421                    463              Brad Renfro
## 3425                   1000             Olivia Wilde
## 3427                    600           Josh Henderson
## 3439                     88           Cameron Bright
## 3441                    221          Olivia Williams
## 3480                   4000            Steve Buscemi
## 3495                    303          Matthew McGrory
## 3501                    292              Teddy Sears
## 3507                     38           Alun Armstrong
## 3508                    346          Xander Berkeley
## 3541                    240               Chris Penn
## 3547                     36          Johanna Wokalek
## 3549                     83            Jason Cerbone
## 3552                     11           Silvio Muccino
## 3561                    689           Frances Conroy
## 3562                    376                 Jay Mohr
## 3595                    583         Curtis Armstrong
## 3625                    179              Miriam Shor
## 3629                     15            Lynne Thigpen
## 3639                    451             Russell Wong
## 3681                    388              John Savage
## 3682                    781              Eric Stoltz
## 3703                    704           Shelley Hennig
## 3743                    664              Randy Wayne
## 3755                    409            Jenifer Lewis
## 3783                    192               Jon Tenney
## 3795                    100                 Paul Fix
## 3837                    413              Gary Farmer
## 3840                    577              Elena Anaya
## 3850                    167            Mark Margolis
## 3883                    130            Maury Chaykin
## 3885                    327       Miranda Richardson
## 3901                    904           Dylan Minnette
## 3953                    599        Marg Helgenberger
## 3969                     94            Susannah York
## 3973                    288             Slim Pickens
## 3976                    106                Riz Ahmed
## 3995                    367            Robert Wagner
## 4032                     80            Rus Blackwell
## 4054                    482              David Kelly
## 4096                    267          George Hamilton
## 4098                    194           Rob McElhenney
## 4107                    221           Michael Bolten
## 4146                    248               Glenn Ford
## 4161                    327              Sanjay Dutt
## 4164                     32              Neeru Bajwa
## 4177                      4                 Bo Huang
## 4192                      6            Michel CÃ´tÃ©
## 4211                    577          Cecilia Pillado
## 4221                    326          Michael O'Neill
## 4307                    267            Frank Vincent
## 4373                    165             Luke Edwards
## 4374                     91            Keenan Tracey
## 4382                    783             Sissy Spacek
## 4434                      7             John Arcilla
## 4489                      3              Vera Wilson
## 4498                     51              Nigel Bruce
## 4500                      4             Regina CasÃ©
## 4573                     97           Manoj Bajpayee
## 4577                    301           Cathy Moriarty
## 4602                     61    Ana Claudia TalancÃ³n
## 4620                    317          Shanley Caswell
## 4643                      0         G.J. Echternkamp
## 4656                    221           D. David Morin
## 4657                    141            Johnny Harris
## 4690                     14        Christopher Toler
## 4691                    567             Lauren Cohan
## 4786                    304         Cheyenne Jackson
## 4817                      0               Joe Bishop
## 4871                     41             Flaco Navaja
## 4876                      3           Lorne Cardinal
## 4890                    494           Vivian Lamolli
## 4987                      3              Sonia Braga
## 4994                    236             Olivia Cooke
## 5010                     NA            Bobby Kendall
## 5032                     84               Joe Coffey
## 5040                    319            Valorie Curry
##      actor_1_facebook_likes     gross
## 9                     26000 458991599
## 106                   87000  60655503
## 120                    1000 206435493
## 127                     234 281492479
## 144                     921  21379315
## 166                     986 107503316
## 171                   12000  32131830
## 184                   13000 227137090
## 197                     309  49551662
## 205                     544        NA
## 248                     650  67155742
## 266                   20000  85463309
## 302                    3000  75030163
## 310                     920 184031112
## 316                   23000  38120554
## 326                   12000 202007640
## 335                    2000  50802661
## 338                     873  43982842
## 351                    1000  11000000
## 375                     691  75817994
## 383                   11000     26871
## 387                    3000  47474112
## 409                   14000  63224849
## 418                     879  57010853
## 572                    8000 148213377
## 600                   18000  98895417
## 602                     833  83552429
## 620                   26000  25093607
## 671                     600  59617068
## 693                   11000  31054924
## 698                     967 356784000
## 702                     979  58255287
## 704                     524  65000000
## 765                     650  46975183
## 773                   13000  37479778
## 778                   12000  42194060
## 828                   18000  60984028
## 831                    4000  28328132
## 898                     277  75604320
## 923                     961  23020488
## 965                     660  66002004
## 978                   18000  44737059
## 983                   16000  41482207
## 1005                  16000  26199517
## 1006                   6000  25450527
## 1018                  20000  21557240
## 1049                  18000  50173190
## 1081                    821  92115211
## 1082                  11000  93452056
## 1098                  13000  57362581
## 1103                   1000  48114556
## 1110                    550  32003620
## 1117                  14000  22531698
## 1127                    854  15523168
## 1136                    219   8129455
## 1146                    956  62318875
## 1203                   8000  90353764
## 1214                   3000  74098862
## 1243                    545  47806295
## 1278                    964  27053815
## 1282                  22000     32645
## 1322                    499    876671
## 1329                    720  50693162
## 1337                    593  60000000
## 1382                    740 150368971
## 1383                    463        NA
## 1391                   2000  13052741
## 1392                    746  14378353
## 1429                  15000  83299761
## 1490                   1000  10268846
## 1497                  23000  10137502
## 1538                    165  10955425
## 1604                    616  90135191
## 1627                   3000  56044241
## 1644                    696  42643187
## 1651                    585  40118420
## 1655                    869  38232624
## 1657                    581  38122105
## 1665                    680        NA
## 1669                  17000  32154410
## 1779                  14000  31600000
## 1793                  17000  28751715
## 1804                  12000  74888996
## 1829                   1000   4476235
## 1873                    775  26761283
## 1878                   4000  84185387
## 1919                   1000  36310118
## 1935                   1000  29247405
## 1950                  11000  23527955
## 1995                    852  34014398
## 2008                    541    183662
## 2022                    865 101334374
## 2044                  23000   4308981
## 2048                  23000   4710455
## 2057                  14000  39235088
## 2075                    201   2708188
## 2085                   2000  75597042
## 2089                    545        NA
## 2109                   3000  14252830
## 2146                   1000  16284360
## 2150                  34000    958319
## 2170                    489  12831121
## 2181                    813        NA
## 2185                   1000  52066000
## 2187                    526  46363118
## 2189                    304  45542421
## 2206                   2000  34290142
## 2209                    383  34334256
## 2220                   1000  27277055
## 2233                  25000  21413105
## 2267                    940   8000000
## 2276                   1000  13383737
## 2286                   5000  11034436
## 2329                    836   1646664
## 2335                    488    410388
## 2351                    729        NA
## 2390                  40000  10562387
## 2397                  12000  76400000
## 2418                   2000  30222640
## 2457                   4000   3707794
## 2465                    364   3419967
## 2469                    854    229311
## 2477                    923  90485233
## 2482                    866  39687528
## 2485                    109    325491
## 2486                    482  96471845
## 2512                    690  15655665
## 2546                    996  44667095
## 2558                    633  30102717
## 2580                   1000   5900000
## 2604                  13000 177200000
## 2615                  19000  91121452
## 2631                  22000  43022524
## 2638                  11000  37882551
## 2656                    818  29106737
## 2684                  22000  17237244
## 2697                    595  11144518
## 2701                  22000   9929000
## 2728                    857        NA
## 2730                    876   1953732
## 2734                   5000    819852
## 2737                  12000    529766
## 2742                  13000    122288
## 2750                  14000        NA
## 2751                   1000        NA
## 2767                    442 109306210
## 2797                  12000  12550242
## 2822                    927  56631572
## 2832                  19000   2605039
## 2833                  49000 123922370
## 2864                    378  13753931
## 2939                  49000  31597131
## 2967                    988  21520719
## 3005                    662    214202
## 3051                   8000  13592872
## 3059                  40000   9170214
## 3081                    861 434949459
## 3090                  49000 138339411
## 3094                   4000  68353550
## 3185                   1000  21569041
## 3198                    982   2331318
## 3218                    603    578527
## 3223                    837    244465
## 3232                    665     82739
## 3247                    485        NA
## 3288                    909  24530513
## 3300                    187   6047856
## 3304                    177        NA
## 3324                    442 174635000
## 3357                   1000  76657000
## 3360                    354 163214286
## 3374                    861        NA
## 3387                  12000  10269307
## 3393                   1000  10106233
## 3407                   1000    532190
## 3421                    954     53481
## 3425                  23000        NA
## 3427                  31000        NA
## 3439                  24000  24792061
## 3441                   3000  12574715
## 3480                  16000  25625110
## 3495                   1000  12583510
## 3501                  14000   9166863
## 3507                    206   5430822
## 3508                    787        NA
## 3541                  16000  41400000
## 3547                    177    927107
## 3549                    240     10696
## 3552                     60    223878
## 3561                    876  24103594
## 3562                    900  16842303
## 3595                  16000  21005329
## 3625                    263   3029081
## 3629                    244   2025238
## 3639                    974   1346503
## 3681                    782  27545445
## 3682                   4000     56007
## 3703                    852  50820940
## 3743                   1000  13350177
## 3755                    849  10572742
## 3783                    967   2221809
## 3795                    197        NA
## 3837                    584        NA
## 3840                  13000    434417
## 3850                   1000   3609278
## 3883                    471   2542264
## 3885                   1000  62549000
## 3901                   1000        NA
## 3953                  18000     12836
## 3969                    559        NA
## 3973                    773     14873
## 3976                    414    304137
## 3995                    606        NA
## 4032                    632        NA
## 4054                    773  24788807
## 4096                    578   3559990
## 4098                  11000   3287435
## 4107                    439   2848578
## 4146                    931        NA
## 4161                    464        NA
## 4164                    258        NA
## 4177                     11        NA
## 4192                     50        NA
## 4211                    968        NA
## 4221                    982    565592
## 4307                    584        NA
## 4373                    467        NA
## 4374                    433        NA
## 4382                   1000  35918429
## 4434                     38    183490
## 4489                     31     11278
## 4498                     94        NA
## 4500                     61    375723
## 4573                    353    610991
## 4577                    611    464655
## 4602                    262     10018
## 4620                    458        NA
## 4643                    109   1007962
## 4656                    284     15278
## 4657                    418        NA
## 4690                    262   3278611
## 4691                  22000        NA
## 4786                    873        NA
## 4817                     15   1523883
## 4871                     68        NA
## 4876                   1000        NA
## 4890                    814        NA
## 4987                    866        NA
## 4994                    852        NA
## 5010                      0      8231
## 5032                    785        NA
## 5040                    841        NA
##                                                 genres
## 9                              Action|Adventure|Sci-Fi
## 106                    Action|Adventure|Drama|Thriller
## 120                    Animation|Comedy|Family|Fantasy
## 127                                      Action|Sci-Fi
## 144    Action|Adventure|Animation|Comedy|Family|Sci-Fi
## 166                        Action|Drama|Mystery|Sci-Fi
## 171  Action|Adventure|Animation|Fantasy|Romance|Sci-Fi
## 184                            Action|Mystery|Thriller
## 197                        Adventure|Drama|Romance|War
## 205               Action|Adventure|Drama|Horror|Sci-Fi
## 248                          Action|Adventure|Thriller
## 266                          Action|Drama|Sci-Fi|Sport
## 302                    Action|Adventure|Family|Fantasy
## 310                           Action|Adventure|Fantasy
## 316                  Adventure|Animation|Family|Sci-Fi
## 326                  Action|Adventure|Fantasy|Thriller
## 335          Adventure|Animation|Comedy|Family|Romance
## 338                             Drama|Fantasy|Thriller
## 351                            Action|Adventure|Comedy
## 375               Comedy|Family|Fantasy|Horror|Mystery
## 383                              Action|Crime|Thriller
## 387                       Action|Drama|Sci-Fi|Thriller
## 409                                     Comedy|Romance
## 418                                      Drama|Romance
## 572                                Action|Comedy|Sport
## 600                                    Action|Thriller
## 602                                      Action|Sci-Fi
## 620                              Action|Crime|Thriller
## 671                                     Comedy|Romance
## 693                              Drama|Mystery|Romance
## 698                          Adventure|Sci-Fi|Thriller
## 702                                       Comedy|Crime
## 704                               Comedy|Drama|Romance
## 765                Action|Crime|Drama|Mystery|Thriller
## 773                      Biography|Drama|History|Sport
## 778           Adventure|Animation|Comedy|Family|Sci-Fi
## 828                             Drama|Mystery|Thriller
## 831                          Action|Comedy|Crime|Drama
## 898                                     Comedy|Romance
## 923                              Action|Comedy|Fantasy
## 965      Adventure|Comedy|Family|Fantasy|Romance|Sport
## 978                                       Comedy|Sport
## 983                              Comedy|Fantasy|Horror
## 1005               Action|Crime|Drama|Mystery|Thriller
## 1006               Action|Crime|Drama|Mystery|Thriller
## 1018                          Adventure|Comedy|Fantasy
## 1049                              Drama|Mystery|Sci-Fi
## 1081                      Crime|Drama|Mystery|Thriller
## 1082                            Adventure|Comedy|Drama
## 1098               Action|Crime|Drama|Romance|Thriller
## 1103                     Comedy|Family|Fantasy|Romance
## 1110                             Action|Crime|Thriller
## 1117                  Action|Adventure|Sci-Fi|Thriller
## 1127                                  Mystery|Thriller
## 1136                     Action|Adventure|Comedy|Crime
## 1146          Action|Adventure|Fantasy|Sci-Fi|Thriller
## 1203                                      Comedy|Crime
## 1214                                    Crime|Thriller
## 1243                           Horror|Mystery|Thriller
## 1278                          Action|Adventure|Romance
## 1282                      Crime|Drama|Romance|Thriller
## 1322       Adventure|Comedy|Drama|Romance|Thriller|War
## 1329                              Action|Drama|Fantasy
## 1337                              Action|Comedy|Sci-Fi
## 1382                                      Comedy|Crime
## 1383                           Action|Adventure|Sci-Fi
## 1391                                     Drama|History
## 1392                    Drama|Mystery|Romance|Thriller
## 1429              Biography|Comedy|Drama|History|Music
## 1490                     Action|Crime|Mystery|Thriller
## 1497                Adventure|Biography|Drama|Thriller
## 1538                            Action|Sci-Fi|Thriller
## 1604                      Crime|Drama|Mystery|Thriller
## 1627                            Comedy|Fantasy|Romance
## 1644                             Biography|Drama|Sport
## 1651                               Drama|Romance|Sport
## 1655                                            Comedy
## 1657                      Action|Crime|Sci-Fi|Thriller
## 1665                                      Comedy|Drama
## 1669                              Crime|Drama|Thriller
## 1779                               Adventure|Biography
## 1793                               Action|Comedy|Crime
## 1804                  Action|Adventure|Sci-Fi|Thriller
## 1829                     Crime|Horror|Mystery|Thriller
## 1873                                     Drama|Romance
## 1878    Adventure|Comedy|Family|Fantasy|Horror|Mystery
## 1919                                            Comedy
## 1935                               Comedy|Family|Music
## 1950               Action|Crime|Drama|Mystery|Thriller
## 1995             Action|Adventure|Crime|Drama|Thriller
## 2008                                      Comedy|Drama
## 2022                                    Horror|Mystery
## 2044                                     Comedy|Family
## 2048                Adventure|Animation|Family|Fantasy
## 2057                                     Horror|Sci-Fi
## 2075                              Comedy|Drama|Romance
## 2085                                Drama|Family|Sport
## 2089                           Biography|Drama|History
## 2109                                      Comedy|Music
## 2146                                      Comedy|Drama
## 2150                                             Drama
## 2170                    Drama|Mystery|Romance|Thriller
## 2181                       Action|Crime|Drama|Thriller
## 2185                           Biography|Drama|History
## 2187                     Drama|Horror|Mystery|Thriller
## 2189             Animation|Comedy|Drama|Family|Musical
## 2206                                      Comedy|Drama
## 2209                                   Horror|Thriller
## 2220                        Comedy|Drama|Music|Romance
## 2233            Action|Adventure|Drama|Romance|Western
## 2267                           Biography|Drama|History
## 2276                                      Comedy|Crime
## 2286                            Comedy|Drama|Music|War
## 2329                                      Comedy|Music
## 2335 Action|Adventure|Animation|Family|Sci-Fi|Thriller
## 2351                                         Animation
## 2390                            Adventure|Comedy|Drama
## 2397                           Action|Adventure|Sci-Fi
## 2418                               Drama|Music|Romance
## 2457                   Adventure|Drama|Sci-Fi|Thriller
## 2465                                             Music
## 2469          Action|Drama|History|Romance|War|Western
## 2477                                Comedy|Crime|Drama
## 2482                       Action|Crime|Drama|Thriller
## 2485                              Crime|Drama|Thriller
## 2486                           Fantasy|Horror|Thriller
## 2512                                    Comedy|Romance
## 2546                              Comedy|Drama|Romance
## 2558                                      Action|Crime
## 2580                          Action|Adventure|Fantasy
## 2604                              Comedy|Drama|Romance
## 2615                      Biography|Drama|Thriller|War
## 2631                                      Comedy|Drama
## 2638                                            Comedy
## 2656                              Comedy|Drama|Romance
## 2684                              Crime|Drama|Thriller
## 2697                                  Adventure|Family
## 2701                                      Drama|Sci-Fi
## 2728                            Drama|History|Thriller
## 2730                           Adventure|Drama|Fantasy
## 2734                                    Drama|Thriller
## 2737                                       Crime|Drama
## 2742       Action|Adventure|Drama|History|Thriller|War
## 2750                        Adventure|Animation|Family
## 2751                            Action|Sci-Fi|Thriller
## 2767                           Action|Adventure|Comedy
## 2797                              Comedy|Drama|Romance
## 2822                                    Comedy|Romance
## 2832                      Drama|Horror|Sci-Fi|Thriller
## 2833                        Biography|Comedy|Drama|War
## 2864                                 Drama|History|War
## 2939                                    Drama|Thriller
## 2967                              Comedy|Romance|Sport
## 3005                              Crime|Drama|Thriller
## 3051                                            Comedy
## 3059                                     Drama|Romance
## 3081                                     Family|Sci-Fi
## 3090                                             Drama
## 3094                                      Comedy|Sport
## 3185                                             Drama
## 3198                                            Comedy
## 3218                            Action|Comedy|Thriller
## 3223                                     Drama|Romance
## 3232                                             Drama
## 3247                                       Drama|Music
## 3288                                 Documentary|Drama
## 3300                       Action|Crime|Drama|Thriller
## 3304                                     Drama|Romance
## 3324                                  Adventure|Comedy
## 3357                   Adventure|Comedy|Family|Musical
## 3360            Biography|Drama|Family|Musical|Romance
## 3374                                         Adventure
## 3387                             Action|Crime|Thriller
## 3393                                      Comedy|Drama
## 3407                     Biography|Drama|Romance|Sport
## 3421                              Crime|Drama|Thriller
## 3425                             Action|Crime|Thriller
## 3427                       Action|Crime|Drama|Thriller
## 3439                                      Comedy|Drama
## 3441                                             Drama
## 3480                             Action|Crime|Thriller
## 3495                                            Horror
## 3501                                     Drama|Romance
## 3507               Action|Crime|Horror|Sci-Fi|Thriller
## 3508                       Action|Crime|Drama|Thriller
## 3541                                           Western
## 3547                       Biography|Drama|Romance|War
## 3549                                    Crime|Thriller
## 3552                              Comedy|Drama|Romance
## 3561                     Adventure|Comedy|Drama|Family
## 3562                                      Comedy|Crime
## 3595                                    Comedy|Romance
## 3625                        Comedy|Drama|Music|Musical
## 3629                       Comedy|Crime|Drama|Thriller
## 3639                                     Drama|History
## 3681                                             Drama
## 3682               Comedy|Crime|Drama|Romance|Thriller
## 3703                                    Fantasy|Horror
## 3743                             Drama|Horror|Thriller
## 3755                                     Drama|Romance
## 3783                                             Drama
## 3795                           Adventure|Drama|Romance
## 3837                                           Western
## 3840                                             Drama
## 3850                                             Drama
## 3883                                      Comedy|Drama
## 3885                      Crime|Drama|Romance|Thriller
## 3901                                     Drama|Fantasy
## 3953                                   Biography|Drama
## 3969                           Biography|Drama|History
## 3973                             Adventure|War|Western
## 3976                                Comedy|Crime|Drama
## 3995               Action|Crime|Drama|Mystery|Thriller
## 4032                             Biography|Drama|Music
## 4054                                            Comedy
## 4096                                      Comedy|Crime
## 4098                                             Drama
## 4107                                      Drama|Family
## 4146                                      Comedy|Drama
## 4161                              Comedy|Drama|Romance
## 4164                                           Romance
## 4177                           Action|Adventure|Comedy
## 4192                      Action|Drama|Horror|Thriller
## 4211                                     Comedy|Horror
## 4221                               Comedy|Drama|Family
## 4307                                       Crime|Drama
## 4373                            Comedy|Horror|Thriller
## 4374                                     Action|Sci-Fi
## 4382                                       Crime|Drama
## 4434                                         Drama|War
## 4489                                      Comedy|Drama
## 4498                              Drama|Family|Fantasy
## 4500                                      Comedy|Drama
## 4573                                     Drama|Romance
## 4577                                      Comedy|Drama
## 4602                              Crime|Drama|Thriller
## 4620                                            Horror
## 4643                              Crime|Drama|Thriller
## 4656                              Drama|Fantasy|Sci-Fi
## 4657                              Crime|Drama|Thriller
## 4690                                 Documentary|Music
## 4691                   Action|Adventure|Fantasy|Sci-Fi
## 4786                                    Comedy|Romance
## 4817                                 Documentary|Sport
## 4871                                             Drama
## 4876                                             Drama
## 4890          Adventure|Drama|Fantasy|Thriller|Western
## 4987                              Comedy|Drama|Romance
## 4994                                   Sci-Fi|Thriller
## 5010                                     Drama|Fantasy
## 5032                            Comedy|Horror|Thriller
## 5040                      Crime|Drama|Mystery|Thriller
##                  actor_1_name
## 9             Chris Hemsworth
## 106             Jimmy Bennett
## 120          Janeane Garofalo
## 127             Steve Bastoni
## 144         Elisabeth Harnois
## 166               Matt Frewer
## 171             Steve Buscemi
## 184                Matt Damon
## 197               Essie Davis
## 205             Mark Chinnery
## 248        Jamie RenÃ©e Smith
## 266              Hugh Jackman
## 302            Djimon Hounsou
## 310             Michael Gough
## 316      Joseph Gordon-Levitt
## 326            Dwayne Johnson
## 335              Frank Welker
## 338         Michael Imperioli
## 351     Christopher Masterson
## 375           Marsha Thomason
## 383                 Brad Pitt
## 387               Don Cheadle
## 409              Kate Winslet
## 418                   Li Gong
## 572              Will Ferrell
## 600             Gerard Butler
## 602               Noel Fisher
## 620             Jason Statham
## 671             Sayed Badreya
## 693             Harrison Ford
## 698              Wayne Knight
## 702          Chazz Palminteri
## 704            Shawna Waldron
## 765              Tate Donovan
## 773                Matt Damon
## 778            Dwayne Johnson
## 828              Keanu Reeves
## 831               Salma Hayek
## 898            Todd Stashwick
## 923                Jaime King
## 965             Scoot McNairy
## 978              Keanu Reeves
## 983           Christopher Lee
## 1005           Clint Eastwood
## 1006              Naomi Watts
## 1018          Natalie Portman
## 1049             Kevin Spacey
## 1081         Bradley Whitford
## 1082           Morgan Freeman
## 1098       Sylvester Stallone
## 1103            Dania Ramirez
## 1110            Richard Burgi
## 1117               Vin Diesel
## 1127              Jim Belushi
## 1136           Daniel Kaluuya
## 1146             Sophia Myles
## 1203             Will Ferrell
## 1214           Rosario Dawson
## 1243            Gena Rowlands
## 1278        Catherine Deneuve
## 1282           Robert De Niro
## 1322             James Brolin
## 1329          Michael Wincott
## 1337            Margot Kidder
## 1382              Laura-Leigh
## 1383            Yuliya Snigir
## 1391           Alexa PenaVega
## 1392                Rick Yune
## 1429                Tom Hanks
## 1490             Tom Skerritt
## 1497     Joseph Gordon-Levitt
## 1538              Ryan Kruger
## 1604               John Doman
## 1627          Jennifer Garner
## 1644            Mehcad Brooks
## 1651              Faizon Love
## 1655           Carmen Electra
## 1657             Yaphet Kotto
## 1665               Debi Mazar
## 1669           Channing Tatum
## 1779              Liam Neeson
## 1793      ChloÃ« Grace Moretz
## 1804            Leonard Nimoy
## 1829                LL Cool J
## 1873              Luke Bracey
## 1878    Sarah Michelle Gellar
## 1919            Alfre Woodard
## 1935            Jason Flemyng
## 1950              Chris Evans
## 1995                Lin Shaye
## 2008         FranÃ§ois Cluzet
## 2022                Omar Epps
## 2044              Paul Walker
## 2048           Christian Bale
## 2057               Vin Diesel
## 2075                Tom Burke
## 2085             Dennis Quaid
## 2089           Candice Bergen
## 2109           Rosario Dawson
## 2146         Madeline Carroll
## 2150        Jennifer Lawrence
## 2170            Jessica ParÃ©
## 2181             Roy Scheider
## 2185            David Oyelowo
## 2187             Barry Watson
## 2189              Kath Soucie
## 2206                 Tina Fey
## 2209            Gunnar Hansen
## 2220               Drake Bell
## 2233             Alan Rickman
## 2267            Martin Landau
## 2276            Jim Broadbent
## 2286              Bob Hoskins
## 2329             Damon Wayans
## 2335         William Hootkins
## 2351           Joey D. Vieira
## 2390              Johnny Depp
## 2397            Leonard Nimoy
## 2418         Christian Monzon
## 2457            Kirsten Dunst
## 2465           James Hetfield
## 2469             Tom Berenger
## 2477          Vanessa Ferlito
## 2482         Henry Ian Cusick
## 2485                 Kirk Fox
## 2486        Fionnula Flanagan
## 2512         Thomas F. Wilson
## 2546          BÃ©rÃ©nice Bejo
## 2558               Bolo Yeung
## 2580      Christopher Lambert
## 2604              Bill Murray
## 2615     Benedict Cumberbatch
## 2631           Robert De Niro
## 2638              Chris Evans
## 2656               Liam Aiken
## 2684   Philip Seymour Hoffman
## 2697            Trevor Morgan
## 2701           Robert De Niro
## 2728                Anna Silk
## 2730         Curtis Armstrong
## 2734              Bob Hoskins
## 2737            Steve Buscemi
## 2742       Michael Fassbender
## 2750              Liam Neeson
## 2751 Birgitte Hjort SÃ¸rensen
## 2767               Paul Hogan
## 2797            Steve Buscemi
## 2822            Donald Faison
## 2832       Scarlett Johansson
## 2833           Robin Williams
## 2864           Yuki Matsuzaki
## 2939           Robin Williams
## 2967                   Common
## 3005                Zack Ward
## 3051             Will Ferrell
## 3059              Johnny Depp
## 3081             Henry Thomas
## 3090           Robin Williams
## 3094            Kirsten Dunst
## 3185            Jennifer Ehle
## 3198              Don Johnson
## 3218             Bashar Rahal
## 3223         Olivier Martinez
## 3232           Ricky Schroder
## 3247            Shane Pollard
## 3288            Michael Moore
## 3300           Kristin Lehman
## 3304                Ronn Moss
## 3324               Paul Hogan
## 3357            Madeline Kahn
## 3360           Eleanor Parker
## 3374              Tina Gilton
## 3387            Norman Reedus
## 3393         Cameron Monaghan
## 3407           Kurtwood Smith
## 3421            Brian Dennehy
## 3425              Paul Walker
## 3427       Rachel Ann Mullins
## 3439             J.K. Simmons
## 3441           Dominic Cooper
## 3480        Quentin Tarantino
## 3495                 Sid Haig
## 3501              Colin Firth
## 3507       Michael J. Pollard
## 3508           Melinda Clarke
## 3541           Clint Eastwood
## 3547           Heike Makatsch
## 3549            Glenn Plummer
## 3552            Laura Morante
## 3561         Curtis Armstrong
## 3562             Sarah Polley
## 3595            Ryan Reynolds
## 3625    John Cameron Mitchell
## 3629             Chelcie Ross
## 3639              Bingbing Li
## 3681                 Ruby Dee
## 3682    Sarah Michelle Gellar
## 3703                Lin Shaye
## 3743          Jessica Lowndes
## 3755            Eddie Cibrian
## 3783             Dianne Wiest
## 3795          Judith Anderson
## 3837          Keith Carradine
## 3840           Eddie Redmayne
## 3850            Ellen Burstyn
## 3883          Jason Priestley
## 3885            Jim Broadbent
## 3901             Holly Hunter
## 3953             Keanu Reeves
## 3969              Robert Shaw
## 3973             James Coburn
## 3976             Kayvan Novak
## 3995              Janet Leigh
## 4032              Corbin Bleu
## 4054            James Nesbitt
## 4096           Kristy Swanson
## 4098      Matthew McConaughey
## 4107             Robyn Lively
## 4146              Ann-Margret
## 4161              Vidya Balan
## 4164 Bhavkhandan Singh Rakhra
## 4177                 Jack Kao
## 4192            Patrick Huard
## 4211      Clifton Collins Jr.
## 4221              Ethan Embry
## 4307          Vincent Pastore
## 4373       Kimberley Crossman
## 4374        Tom Everett Scott
## 4382            Tom Wilkinson
## 4434       Brian Lee Franklin
## 4489             Ximena Ayala
## 4498          Spring Byington
## 4500              Alex Huszar
## 4573           Karisma Kapoor
## 4577           David Arquette
## 4602            Jordana Spiro
## 4620        Maureen McCormick
## 4643               Odessa Rae
## 4656            Gavin MacLeod
## 4657         Lorraine Stanley
## 4690   Kevin Scott Richardson
## 4691           Peter Dinklage
## 4786         Jennifer Lafleur
## 4817               Mark Zupan
## 4871               Judy Marte
## 4876           Corbin Bernsen
## 4890            Mark Fantasia
## 4987     Marcello Mastroianni
## 4994                Lin Shaye
## 5010               Don Brooks
## 5032            Julianna Pitt
## 5040              Natalie Zea
##                                        movie_title num_voted_users
## 9                        Avengers: Age of UltronÂ           462669
## 106                                     PoseidonÂ            82380
## 120                                  RatatouilleÂ           473887
## 127                          The Matrix ReloadedÂ           421818
## 144                              Mars Needs MomsÂ            17590
## 166                                     WatchmenÂ           392474
## 171            Final Fantasy: The Spirits WithinÂ            72259
## 184                         The Bourne UltimatumÂ           491077
## 197                                    AustraliaÂ           102338
## 205                          Godzilla ResurgenceÂ              374
## 248                                 Dante's PeakÂ            62271
## 266                                   Real SteelÂ           254841
## 302                                       EragonÂ           108076
## 310                               Batman ForeverÂ           190786
## 316                              Treasure PlanetÂ            71527
## 326                            The Mummy ReturnsÂ           248045
## 335                        The Road to El DoradoÂ            58300
## 338                             The Lovely BonesÂ           125109
## 351                             Cutthroat IslandÂ            21102
## 375                          The Haunted MansionÂ            32049
## 383                                     Spy GameÂ           121259
## 387                                      VolcanoÂ            58227
## 409                                  The HolidayÂ           182757
## 418                          Memoirs of a GeishaÂ           119286
## 572  Talladega Nights: The Ballad of Ricky BobbyÂ           130776
## 600                           Olympus Has FallenÂ           203154
## 602                           Battle Los AngelesÂ           154955
## 620                                 Killer EliteÂ           105556
## 671                                 The DictatorÂ           213863
## 693                                Random HeartsÂ            17025
## 698                                Jurassic ParkÂ           613473
## 702                                    LittlemanÂ            39471
## 704                       The American PresidentÂ            43027
## 765                                      ShooterÂ           256213
## 773                                     InvictusÂ           124222
## 778                                    Planet 51Â            41259
## 828                         The Devil's AdvocateÂ           259519
## 831                             After the SunsetÂ            38298
## 898                           You, Me and DupreeÂ            68417
## 923                             Bulletproof MonkÂ            42324
## 965                          Herbie Fully LoadedÂ            36431
## 978                             The ReplacementsÂ            48322
## 983                    Gremlins 2: The New BatchÂ            68428
## 1005                                  Blood WorkÂ            34356
## 1006                           The InternationalÂ            80196
## 1018                               Your HighnessÂ            85237
## 1049                                       K-PAXÂ           148490
## 1081                                  The ClientÂ            45798
## 1082                             The Bucket ListÂ           184795
## 1098                              The SpecialistÂ            50148
## 1103                                  Fat AlbertÂ             9380
## 1110                                    CellularÂ            79141
## 1117                                Babylon A.D.Â            81523
## 1127                            The Ghost WriterÂ           132423
## 1136                       Johnny English RebornÂ            89568
## 1146                       Underworld: EvolutionÂ           156225
## 1203                                    Get HardÂ            85629
## 1214                                    Sin CityÂ           656640
## 1243                            The Skeleton KeyÂ            87447
## 1278                               The MusketeerÂ            12856
## 1282                                Mean StreetsÂ            67797
## 1322                           The Hunting PartyÂ            22010
## 1329                                    The CrowÂ           136580
## 1337                                Superman IIIÂ            49934
## 1382                           We're the MillersÂ           316671
## 1383                            Obitaemyy ostrovÂ             4387
## 1391                       Ghosts of MississippiÂ             8531
## 1392                      Snow Falling on CedarsÂ            12375
## 1429                            Saving Mr. BanksÂ           117719
## 1490                                    WhiteoutÂ            31918
## 1497                                    The WalkÂ            77394
## 1538                                    DoomsdayÂ            62770
## 1604                                Mystic RiverÂ           338415
## 1627                              13 Going on 30Â           122187
## 1644                                  Glory RoadÂ            34910
## 1651                                  Blue CrushÂ            26066
## 1655                           Meet the SpartansÂ            88518
## 1657                             The Running ManÂ           112669
## 1665                       EntourageÂ                       135643
## 1669                                Side EffectsÂ           148327
## 1779                                     Rob RoyÂ            34427
## 1793                                  Kick-Ass 2Â           202967
## 1804      Star Trek VI: The Undiscovered CountryÂ            55513
## 1829                                 MindhuntersÂ            49405
## 1873                              The Best of MeÂ            43084
## 1878            Scooby-Doo 2: Monsters UnleashedÂ            33180
## 1919                                 Beauty ShopÂ            13194
## 1935                                 Spice WorldÂ            28377
## 1950                                  The LosersÂ            74691
## 1995                           Snakes on a PlaneÂ           115650
## 2008                           Little White LiesÂ            18395
## 2022                                    Scream 2Â           124941
## 2044                            Meet the DeedlesÂ             2265
## 2048                        Howl's Moving CastleÂ           214091
## 2057                                 Pitch BlackÂ           193962
## 2075                                      ChÃ©riÂ             8924
## 2085                                  The RookieÂ            26434
## 2089                                      GandhiÂ           171726
## 2109                     Josie and the PussycatsÂ            18900
## 2146                                  Swing VoteÂ            15079
## 2150                                  The BeaverÂ            39764
## 2170                                 Wicker ParkÂ            44979
## 2181                       The French ConnectionÂ            82476
## 2185                                       SelmaÂ            61114
## 2187                                   BoogeymanÂ            25960
## 2189                            The Tigger MovieÂ            13319
## 2206                   This Is Where I Leave YouÂ            54242
## 2209                           Texas Chainsaw 3DÂ            35131
## 2220                               High FidelityÂ           143137
## 2233                          Quigley Down UnderÂ            15230
## 2267                The Greatest Story Ever ToldÂ             6484
## 2276                       Bullets Over BroadwayÂ            29385
## 2286                      Mrs Henderson PresentsÂ            13505
## 2329                                     Marci XÂ             4518
## 2335                                    SteamboyÂ            13727
## 2351                     Dwegons and LeprechaunsÂ               50
## 2390              Fear and Loathing in Las VegasÂ           213226
## 2397         Star Trek III: The Search for SpockÂ            58743
## 2418                                       HoneyÂ            36666
## 2457                            Midnight SpecialÂ            31359
## 2465                 Metallica Through the NeverÂ            13359
## 2469                              One Man's HeroÂ              899
## 2477                          Madea Goes to JailÂ             9544
## 2482                                      HitmanÂ           140780
## 2485                              City of GhostsÂ             4387
## 2486                                  The OthersÂ           268581
## 2512       Larry the Cable Guy: Health InspectorÂ             9104
## 2546                                  The ArtistÂ           190030
## 2558                               Double ImpactÂ            28736
## 2580                                  HighlanderÂ            98629
## 2604                                     TootsieÂ            77366
## 2615                          The Imitation GameÂ           467613
## 2631                                 Wag the DogÂ            67604
## 2638                      Not Another Teen MovieÂ            80305
## 2656                  The Object of My AffectionÂ            15582
## 2684                           A Most Wanted ManÂ            57210
## 2697                    Barney's Great AdventureÂ             2724
## 2701                                      BrazilÂ           152306
## 2728                     The CompanyÂ                         3828
## 2730                   The Clan of the Cave BearÂ             4996
## 2734                           Felicia's JourneyÂ             6690
## 2737     Things to Do in Denver When You're DeadÂ            22345
## 2742                                   CenturionÂ            64777
## 2750                                      KhumbaÂ             4006
## 2751                                    AutomataÂ            41638
## 2767                         Crocodile Dundee IIÂ            44096
## 2797                      I Think I Love My WifeÂ            13866
## 2822                                    CluelessÂ           123390
## 2832                              Under the SkinÂ            85022
## 2833                       Good Morning, VietnamÂ            98348
## 2864                       Letters from Iwo JimaÂ           132149
## 2939                              One Hour PhotoÂ            97938
## 2967                                 Just WrightÂ            10103
## 3005                                       TradeÂ            14831
## 3051                              The Ladies ManÂ            10777
## 3059                 What's Eating Gilbert GrapeÂ           171882
## 3081                  E.T. the Extra-TerrestrialÂ           281842
## 3090                           Good Will HuntingÂ           604904
## 3094                                 Bring It OnÂ            70141
## 3185                              Black or WhiteÂ             8058
## 3198             Bucky Larson: Born to Be a StarÂ             9541
## 3218                                   War, Inc.Â            20008
## 3223              The Chambermaid on the TitanicÂ             1135
## 3232                     Blood Done Sign My NameÂ              465
## 3247              You Got Served: Beat the WorldÂ             1642
## 3288                                       SickoÂ            66610
## 3300                          The Way of the GunÂ            27536
## 3304      The Bold and the BeautifulÂ                         5478
## 3324                            Crocodile DundeeÂ            74743
## 3357                            The Muppet MovieÂ            25498
## 3360                          The Sound of MusicÂ           148172
## 3374                                       KicksÂ               59
## 3387      The Boondock Saints II: All Saints DayÂ            53251
## 3393                                        PromÂ            12702
## 3407                                 PrefontaineÂ             5673
## 3421                                 10th &amp; WolfÂ             5557
## 3425               The Death and Life of Bobby ZÂ            12078
## 3427                                     SwelterÂ             1965
## 3439                       Thank You for SmokingÂ           191998
## 3441                                An EducationÂ           112138
## 3480                                   DesperadoÂ           138707
## 3495                       House of 1000 CorpsesÂ            60709
## 3501                                A Single ManÂ            83182
## 3507                                Split SecondÂ             8391
## 3508                          NikitaÂ                        42402
## 3541                                  Pale RiderÂ            39451
## 3547                              Aimee &amp; JaguarÂ             5153
## 3549                                       ShadeÂ            10771
## 3552                        Remember Me, My LoveÂ             3548
## 3561                 The Adventures of Huck FinnÂ             6384
## 3562                                          GoÂ            59474
## 3595                   Van Wilder: Party LiaisonÂ            89128
## 3625                   Hedwig and the Angry InchÂ            26300
## 3629                                   NovocaineÂ             9589
## 3639              Snow Flower and the Secret FanÂ             3024
## 3681                          Do the Right ThingÂ            59524
## 3682                                 Harvard ManÂ             3754
## 3703                                       OuijaÂ            31915
## 3743               The Haunting of Molly HartleyÂ             7904
## 3755                           Not Easily BrokenÂ             2326
## 3783                                 Rabbit HoleÂ            40618
## 3795                                      TycoonÂ              989
## 3837                                     All HatÂ              436
## 3840                                Savage GraceÂ             8867
## 3850                         Requiem for a DreamÂ           573541
## 3883               Love and Death on Long IslandÂ             3407
## 3885                             The Crying GameÂ            41361
## 3901                    Saving GraceÂ                         3852
## 3953           The Last Time I Committed SuicideÂ             1686
## 3969                       A Man for All SeasonsÂ            23713
## 3973                                Major DundeeÂ             5294
## 3976                                  Four LionsÂ            55982
## 3995                                      HarperÂ             5941
## 4032                                     Day OneÂ             2116
## 4054                           Waking Ned DevineÂ            21245
## 4096                     8 Heads in a Duffel BagÂ             8005
## 4098      Thirteen Conversations About One ThingÂ             8603
## 4107                              Letters to GodÂ             3942
## 4146                       Pocketful of MiraclesÂ             4313
## 4161                        Lage Raho Munna BhaiÂ            27569
## 4164                                  Sardaar JiÂ              745
## 4177                            Silver MedallistÂ             1418
## 4192                                Sur le seuilÂ             1003
## 4211                                       StungÂ             3119
## 4221                       Dancer, Texas Pop. 81Â             2189
## 4307                          This Thing of OursÂ              508
## 4373                 A Beginner's Guide to SnuffÂ               13
## 4374                      Independence DaysasterÂ              761
## 4382                              In the BedroomÂ            32415
## 4434                                       AmigoÂ              463
## 4489                         The Amazing CatfishÂ             1229
## 4498                               The Blue BirdÂ             1047
## 4500                           The Second MotherÂ             7025
## 4573                                        FizaÂ             2715
## 4577                       Dream with the FishesÂ             1524
## 4602                              Alone with HerÂ             3228
## 4620                 Snow White: A Deadly SummerÂ              634
## 4643                                  Hard CandyÂ           131969
## 4656                                Time ChangerÂ             1742
## 4657                          London to BrightonÂ             7308
## 4690                                        RizeÂ             2877
## 4691                                     DestinyÂ             3089
## 4786                              Mutual FriendsÂ               64
## 4817                                  MurderballÂ             9037
## 4871                                 On the OutsÂ              603
## 4876                                        RustÂ              300
## 4890                            Western ReligionÂ              146
## 4987                                    GabrielaÂ              712
## 4994                                  The SignalÂ            48236
## 5010                              Pink NarcissusÂ              803
## 5032                Sanctuary; Quite a ConundrumÂ              133
## 5040                   The FollowingÂ                        73839
##      cast_total_facebook_likes               actor_3_name
## 9                        92000         Scarlett Johansson
## 106                      92456             Andre Braugher
## 120                       4764              Brian Dennehy
## 127                        534            Helmut Bakaitis
## 144                       2652          Tom Everett Scott
## 166                       2530           Stephen McHattie
## 171                      15015               Jean Simmons
## 184                      17369              Albert Finney
## 197                        921                Eddie Baroo
## 205                        699               Atsuko Maeda
## 248                       1569                     Tzi Ma
## 266                      22254                 Olga Fonda
## 302                       4487                 Gary Lewis
## 310                       2880                 Debi Mazar
## 316                      26940            Michael Wincott
## 326                      15972         Patricia Velasquez
## 335                       3372                 Elton John
## 338                       2370               Tom McCarthy
## 351                       3611             Matthew Modine
## 375                       2622        Marc John Jefferies
## 383                      12499        Catherine McCormack
## 387                       5062              Gaby Hoffmann
## 409                      17423               Sarah Parish
## 418                       2380                  Karl Yune
## 572                      12410                  Gary Cole
## 600                      31782             Radha Mitchell
## 602                       4001            Ramon Rodriguez
## 620                      49608             Ben Mendelsohn
## 671                       1375               Horatio Sanz
## 693                      16710                 Bill Cobbs
## 698                       2129                   Bob Peck
## 702                       6334           John Witherspoon
## 704                       2668              Wendie Malick
## 765                       1640             Louis Ferreira
## 773                      24458             Leleti Khumalo
## 778                      22668               James Corden
## 828                      45271            Charlize Theron
## 831                       9814                 Chris Penn
## 898                        847              Amanda Detmer
## 923                       2422           Victoria Smurfit
## 965                       2177               Cheryl Hines
## 978                      24024                Faizon Love
## 983                      19610               Phoebe Cates
## 1005                     18635               Rick Hoffman
## 1006                      7654        Armin Mueller-Stahl
## 1018                     45202               James Franco
## 1049                     33615              Alfre Woodard
## 1081                      4043                Brad Renfro
## 1082                     14868                 Sean Hayes
## 1098                     13331         Emilio Estefan Jr.
## 1103                      4604              Alice Greczyn
## 1110                      1102             Will Beinbrink
## 1117                     15990                David Belle
## 1127                      2507             Timothy Hutton
## 1136                       661                 Togo Igawa
## 1146                      2998               Derek Jacobi
## 1203                     12556            Craig T. Nelson
## 1214                      3924              Jason Douglas
## 1243                      1274                 Joy Bryant
## 1278                      2888                Stephen Rea
## 1282                     23737               David Proval
## 1322                       504           Ljubomir Kerekes
## 1329                      2630        David Patrick Kelly
## 1337                      2329              Jackie Cooper
## 1382                      3425              Thomas Lennon
## 1383                       599        Aleksey Serebryakov
## 1391                      3968            Craig T. Nelson
## 1392                      2393          Daniel von Bargen
## 1429                     19809                 B.J. Novak
## 1490                      1947                Shawn Doyle
## 1497                     23031         Jade Kindar-Martin
## 1538                       391           Jeremy Crutchley
## 1604                      1942                  Tom Guiry
## 1627                      6742           Christa B. Allen
## 1644                      2577                 Derek Luke
## 1651                      1165                 Sanoe Lake
## 1655                      3854                 Method Man
## 1657                      2373             Richard Dawson
## 1665                      2867               Kevin Dillon
## 1669                     18469                Katie Lowes
## 1779                     16125                Eric Stoltz
## 1793                     19168              Augustus Prew
## 1804                     16230           Nichelle Nichols
## 1829                      4186                Eion Bailey
## 1873                      3197              Clarke Peters
## 1878                      7800           Tim Blake Nelson
## 1919                      3535             LisaRaye McCoy
## 1935                      2176           Victoria Beckham
## 1950                     12841             Ã“scar Jaenada
## 1995                      2603           Rachel Blanchard
## 2008                       890           Gilles Lellouche
## 2022                      2321           Kevin Williamson
## 2044                     24436                A.J. Langer
## 2048                     24263               Jean Simmons
## 2057                     16196                Cole Hauser
## 2075                       365                 Gaye Brown
## 2085                      6657             Angus T. Jones
## 2089                      1943               John Gielgud
## 2109                      3769               Aries Spears
## 2146                      6212                Nathan Lane
## 2150                     34705       Riley Thomas Stewart
## 2170                       679               Mark Camacho
## 2181                      1196             Tony Lo Bianco
## 2185                      3869              Oprah Winfrey
## 2187                      1383             Charles Mesure
## 2189                       575                 Ken Sansom
## 2206                      4662                 Jane Fonda
## 2209                      1945                Shaun Sipos
## 2220                      3141                 Lisa Bonet
## 2233                     45841             Ben Mendelsohn
## 2267                      1934               JosÃ© Ferrer
## 2276                      4302               Dianne Wiest
## 2286                      5637             Sarah Solemani
## 2329                      2467              Paula GarcÃ©s
## 2335                       991             Rosalind Ayres
## 2351                      1092          Jacqueline Lovell
## 2390                     43105               Ellen Barkin
## 2397                     14762              Walter Koenig
## 2418                      4868               Romeo Miller
## 2457                      5671                Paul Sparks
## 2465                      1083                Lars Ulrich
## 2469                      2705                 Mark Moses
## 2477                      3699                 Derek Luke
## 2482                      2124             Ulrich Thomsen
## 2485                       245               Rob Campbell
## 2486                       956                 Eric Sykes
## 2512                      2135                Megyn Price
## 2546                      4606                 Beth Grant
## 2558                       874                Kamel Krifa
## 2580                      1852                Celia Imrie
## 2604                     14701                  Teri Garr
## 2615                     20295                Allen Leech
## 2631                     29252       John Michael Higgins
## 2638                     15369               Mia Kirshner
## 2656                      1450                 Kali Rocha
## 2684                     22574           Homayoun Ershadi
## 2697                      1139            Shirley Douglas
## 2701                     29475              Jim Broadbent
## 2728                      3809          Alessandro Nivola
## 2730                      1351                Mike Muscat
## 2734                      5426            Gerard McSorley
## 2737                     14889             Treat Williams
## 2742                     15293                Dave Legeno
## 2750                     29488             Loretta Devine
## 2751                      2829           Melanie Griffith
## 2767                       717               John Meillon
## 2797                     13446             Wendell Pierce
## 2822                      1724              Elisa Donovan
## 2832                     19086               Alison Chand
## 2833                     50141                Bruno Kirby
## 2864                       751            ShidÃ´ Nakamura
## 2939                     52138             Connie Nielsen
## 2967                      3906              Mehcad Brooks
## 3005                      1952            Alicja Bachleda
## 3051                     10982                Tim Meadows
## 3059                     69746                Kevin Tighe
## 3081                      2811               Peter Coyote
## 3090                     63710              Minnie Driver
## 3094                      5270               Clare Kramer
## 3185                      3745             Jillian Estell
## 3198                      2603          Nicholas Turturro
## 3218                       988                Ned Bellamy
## 3223                      1019           Romane Bohringer
## 3232                      4579                 Lee Norris
## 3247                       964             Chase Armitage
## 3288                      1633               Bill Clinton
## 3300                       358              Dylan Kussman
## 3304                       639                Hunter Tylo
## 3324                       822             David Gulpilil
## 3357                      5673                Dom DeLuise
## 3360                      1495           Nicholas Hammond
## 3374                      1279                Justin Hall
## 3387                     17524        Clifton Collins Jr.
## 3393                      5190            Aimee Teegarden
## 3407                      1610                 Amy Locane
## 3421                      2512                 Dash Mihok
## 3425                     37457              Jason Flemyng
## 3427                     33858               Grant Bowler
## 3439                     25092                Todd Louiso
## 3441                      4198             Ellie Kendrick
## 3480                     33758                Salma Hayek
## 3495                      2444               Erin Daniels
## 3501                     14816            Keri Lynn Pratt
## 3507                       493            Alastair Duncan
## 3508                      2352             Aaron Stanford
## 3541                     17209               Sydney Penny
## 3547                       333             Maria Schrader
## 3549                       490         Mark De Alessandro
## 3552                       132           Giulia Michelini
## 3561                      4840                 Anne Heche
## 3562                      2475                 Scott Wolf
## 3595                     19341               Erik Estrada
## 3625                       993              Andrea Martin
## 3629                       489               Polly Noonan
## 3639                      2430                Ji-hyun Jun
## 3681                      2892               Danny Aiello
## 3682                      6776          Joey Lauren Adams
## 3703                      5056             Daren Kagasoff
## 3743                      4856              Haley Bennett
## 3755                      2269                Wood Harris
## 3783                      1582            Tammy Blanchard
## 3795                       538                Laraine Day
## 3837                      2668           Stephen McHattie
## 3840                     15093            Stephen Dillane
## 3850                      2235              Louise Lasser
## 3883                       938                 Danny Webb
## 3885                      2412                Stephen Rea
## 3901                      5203            Bokeem Woodbine
## 3953                     20135               Gretchen Mol
## 3969                      1238              Paul Scofield
## 3973                      2888               Warren Oates
## 3976                      1269              Alex Macqueen
## 3995                      2402            Shelley Winters
## 4032                      1011               Luis Antonio
## 4054                      1965          Fionnula Flanagan
## 4096                      1363                Dyan Cannon
## 4098                     12250                 Amy Irving
## 4107                      1567        Christopher Schmidt
## 4146                      2167            Thomas Mitchell
## 4161                      1761             Jimmy Shergill
## 4164                       434             Diljit Dosanjh
## 4177                        19                   Zheng Xu
## 4192                        79       Jean Pierre Bergeron
## 4211                      3157            David Masterson
## 4221                      2580           Alexandra Holden
## 4307                      1307                 Chuck Zito
## 4373                      1270            Bree Williamson
## 4374                       984           Nicholas Carella
## 4382                      3970                Karen Allen
## 4434                        60              Ronnie Lazaro
## 4489                        58 JosÃ© Manuel Orozco Angulo
## 4498                       293           Gale Sondergaard
## 4500                        76               Luis Miranda
## 4573                       773               Jaya Bhaduri
## 4577                      1692               Kathryn Erbe
## 4602                       509             Jonathon Trent
## 4620                      1549                  Tim Abell
## 4643                       117             Patrick Wilson
## 4656                      1185                 Hal Linden
## 4657                       926             Georgia Groome
## 4690                       321            Tommy the Clown
## 4691                     26578                Erick Avari
## 4786                      2830        Michael Stahl-David
## 4817                        15                  Andy Cohn
## 4871                       216             Dominic ColÃ³n
## 4876                      1056            Kirsten Collins
## 4890                      2970               Greg Jackson
## 4987                      1179              Joffre Soares
## 4994                      1922                 Beau Knapp
## 5010                         0                           
## 5032                      1111                 John Lucas
## 5040                      1753              Sam Underwood
##      facenumber_in_poster
## 9                       4
## 106                     0
## 120                     0
## 127                     0
## 144                     0
## 166                     1
## 171                     1
## 184                     0
## 197                     0
## 205                     0
## 248                     1
## 266                     1
## 302                     0
## 310                     4
## 316                     0
## 326                     5
## 335                     1
## 338                     1
## 351                     3
## 375                     0
## 383                     2
## 387                     0
## 409                     3
## 418                     1
## 572                     5
## 600                     3
## 602                     0
## 620                     2
## 671                     0
## 693                     1
## 698                     0
## 702                     1
## 704                     0
## 765                     0
## 773                     1
## 778                     1
## 828                     2
## 831                     2
## 898                     1
## 923                     3
## 965                     1
## 978                     1
## 983                     0
## 1005                    1
## 1006                    0
## 1018                    3
## 1049                    1
## 1081                    3
## 1082                    1
## 1098                    2
## 1103                    1
## 1110                    1
## 1117                    0
## 1127                    2
## 1136                    1
## 1146                    1
## 1203                    2
## 1214                    1
## 1243                    0
## 1278                    0
## 1282                    0
## 1322                    2
## 1329                    0
## 1337                    1
## 1382                    4
## 1383                    0
## 1391                    0
## 1392                    1
## 1429                    2
## 1490                    1
## 1497                    0
## 1538                    1
## 1604                    0
## 1627                    1
## 1644                    1
## 1651                    3
## 1655                    0
## 1657                    1
## 1665                    2
## 1669                    0
## 1779                    1
## 1793                    0
## 1804                    0
## 1829                    0
## 1873                    0
## 1878                    0
## 1919                    1
## 1935                    1
## 1950                    1
## 1995                    0
## 2008                    6
## 2022                    5
## 2044                    2
## 2048                    0
## 2057                    0
## 2075                    1
## 2085                    0
## 2089                    0
## 2109                    0
## 2146                    1
## 2150                    0
## 2170                    0
## 2181                    0
## 2185                    0
## 2187                    0
## 2189                    0
## 2206                    8
## 2209                    0
## 2220                    0
## 2233                    1
## 2267                    6
## 2276                    4
## 2286                    1
## 2329                    2
## 2335                    1
## 2351                    4
## 2390                    0
## 2397                    1
## 2418                    2
## 2457                    0
## 2465                    0
## 2469                    2
## 2477                    0
## 2482                    1
## 2485                    0
## 2486                    0
## 2512                    2
## 2546                    0
## 2558                    2
## 2580                    1
## 2604                    1
## 2615                    1
## 2631                    0
## 2638                    0
## 2656                    0
## 2684                    3
## 2697                    0
## 2701                    0
## 2728                    3
## 2730                    0
## 2734                    0
## 2737                    2
## 2742                    0
## 2750                    0
## 2751                    0
## 2767                    1
## 2797                    3
## 2822                    1
## 2832                    0
## 2833                    1
## 2864                    0
## 2939                    0
## 2967                    1
## 3005                    0
## 3051                    1
## 3059                    1
## 3081                    0
## 3090                    2
## 3094                    1
## 3185                    2
## 3198                    1
## 3218                    3
## 3223                    1
## 3232                    0
## 3247                    0
## 3288                    1
## 3300                    4
## 3304                    0
## 3324                    1
## 3357                    0
## 3360                    3
## 3374                   NA
## 3387                    0
## 3393                    0
## 3407                    2
## 3421                    5
## 3425                    2
## 3427                    6
## 3439                    0
## 3441                    0
## 3480                    0
## 3495                    0
## 3501                    2
## 3507                    0
## 3508                    1
## 3541                    0
## 3547                    1
## 3549                    8
## 3552                    1
## 3561                    0
## 3562                    3
## 3595                    0
## 3625                    0
## 3629                    3
## 3639                    0
## 3681                    2
## 3682                    3
## 3703                    0
## 3743                    5
## 3755                    1
## 3783                    0
## 3795                    1
## 3837                    2
## 3840                    1
## 3850                    0
## 3883                    1
## 3885                    0
## 3901                    1
## 3953                    1
## 3969                    0
## 3973                    2
## 3976                    0
## 3995                    1
## 4032                    7
## 4054                    0
## 4096                    0
## 4098                    2
## 4107                    0
## 4146                    2
## 4161                    0
## 4164                    2
## 4177                    1
## 4192                    0
## 4211                    0
## 4221                    0
## 4307                    4
## 4373                    0
## 4374                    0
## 4382                    1
## 4434                    0
## 4489                    0
## 4498                    1
## 4500                    1
## 4573                    3
## 4577                    0
## 4602                    0
## 4620                    1
## 4643                    0
## 4656                    1
## 4657                    0
## 4690                    0
## 4691                    0
## 4786                    1
## 4817                    1
## 4871                    3
## 4876                    1
## 4890                    0
## 4987                    0
## 4994                    0
## 5010                    1
## 5032                   NA
## 5040                    1
##                                                                                                                                   plot_keywords
## 9                                               artificial intelligence|based on comic book|captain america|marvel cinematic universe|superhero
## 106                                                                                                         cruise|escape|ocean|passenger|water
## 120                                                                                                             chef|food|french|rat|restaurant
## 127                                                                     car motorcycle chase|one against many|oracle|prophecy|stylized violence
## 144                                                                                                             boy|martian|rescue|robot|sexism
## 166                                                conspiracy|cynicism|false promise of the american dream|male full frontal nudity|male nudity
## 171                                                                                                general|military|scientist|soldier|year 2065
## 184                                                                                                  action hero|cia|dark past|flashback|memory
## 197                                                                                                     australia|cattle|darwin|drover|japanese
## 205                                                                                                               blood|godzilla|monster|sequel
## 248                                                                                                               ash|escape|lava|mayor|volcano
## 266                                                                                                arena|boxing|boxing movie|robot|robot battle
## 302                                                                            dragon|dragon rider|fictional war|sword and fantasy|teenage hero
## 310                                                                                                      love|necktie|partner|rock music|tuxedo
## 316                                                                                                         alien|cyborg|pirate|planet|treasure
## 326                                                                                                    ancient egypt|bracelet|king|scorpion|son
## 335                                                                                           adventurer|el dorado|gold|high priest|implied sex
## 338                                                                                                       1970s|afterlife|heaven|pedophile|rape
## 351                                                                                              latin|pirate|pirate ship|treasure|treasure map
## 375                                                                                 arachnophobia|crystal ball|ghost|haunted house|thunderstorm
## 383                                                                                                    china|cia|cold war|friendship|retirement
## 387                                                                                                         earthquake|fire|lava|rescue|volcano
## 409                                                                                                        book|composer|house|love|self esteem
## 418                                                                                                    coming of age|geisha|japan|jealousy|love
## 572                                                                                                      car racing|french|friend|nascar|racing
## 600                                                                   political thriller|politics|president|speaker of the house|u.s. president
## 602                                                                                              alien|extraterrestrial|invasion|marine|mission
## 620                                                                                               australia|death|mentor|revenge|secret society
## 671                                                                                                      dictator|hotel|oil|overalls|sunglasses
## 693                                                                                         death|plane crash|police|police sergeant|politician
## 698                                                                                dinosaur|jurassic park|survival|theme park|tyrannosaurus rex
## 702                                                                                                 diamond|infant|parody|spoof|sports violence
## 704                                                                                             lobbyist|president|senator|state dinner|widower
## 765                                                                                            colonel|ethiopia|marksman|on the run|rangefinder
## 773                                                                                             apartheid|nation|nelson mandela|president|rugby
## 778                                                                                                alien|alien planet|astronaut|planet|teenager
## 828                                                                                 deal with the devil|lawyer|money|reality|supernatural power
## 831                                                                                                          diamond|fbi|fbi agent|island|thief
## 898                                                                                         best friend|foot fetish|houseguest|newlywed|wedding
## 923                                                                                                  monastery|monk|scroll|tibetan|tibetan monk
## 965                                                                                         automobile racing|car|mechanic|nascar|street racing
## 978                                                                                          coach|football player|misfits|strike|sumo wrestler
## 983                                                                                           gremlin|horror host|hulk hogan|monster|skyscraper
## 1005                                                                                          boat|heart transplant|murder|serial killer|sister
## 1006                                                                                               bank|chase|district attorney|interpol|murder
## 1018                                                                                                    knight|prince|quest|rescue|thong bikini
## 1049                                                                                           extraterrestrial|hospital|patient|planet|science
## 1081                                                                                                           boy|brother|lawyer|mafia|senator
## 1082                                                                                                  billionaire|friend|hospital|list|mechanic
## 1098                                                                                         bomb|cia|explosive|explosives expert|miami florida
## 1103                                                                                           animated sequence|junkyard|love|party|television
## 1110                                                                          cell phone|distress signal|family in danger|police|stealing a car
## 1117                                                                                        box office flop|convent|mercenary|new york|pregnant
## 1127                                                                                          british prime minister|death|island|memoir|writer
## 1136                                                                                                 assassin|chinese|conspiracy|gadget|premier
## 1146                                                                                                 death|feud|forbidden love|vampire|werewolf
## 1203                                                            camera focus on female butt|gay bar|millionaire|singing in a car|two word title
## 1214                                                                            anthology|corruption|hearing characters thoughts|neo noir|night
## 1243                                                                                       attic|bound and gagged|hoodoo|secret|southern gothic
## 1278                                                                                                      guard|king|murder|musketeer|swordsman
## 1282                                                                                         bar|catholic guilt|epilepsy|italian american|money
## 1322                                                                                                           bosnia|cia|fox|hunt|war criminal
## 1329                                                                                        back from the dead|crime boss|crow|gothic|vigilante
## 1337                                                                                         computer|high school|kryptonite|smallville|villain
## 1382                                                                                  fake family|male frontal nudity|marijuana|mexico|stripper
## 1383                                                                                           22nd century|first part|friend|guard|space opera
## 1391                                                                                                 activist|assassin|civil rights|trial|widow
## 1392                                                                                             fisherman|japanese|love|trial|washington state
## 1429                                                               author|disney|loss of father|reference to walt disney|suppression of emotion
## 1490                                                                                     antarctica|geologist|investigation|u.s. marshal|winter
## 1497                                                                        1970s|based on true story|new york city|skyscraper|tightrope walker
## 1538                                                                                                        cure|quarantine|scotland|virus|wall
## 1604                                                                                               ballistics|detective|friend|gun|sexual abuse
## 1627                                                                                       13 year old|13th birthday|30 year old|wish|year 1987
## 1644                                                                                  coach|college basketball|national championship|ncaa|texas
## 1651                                                                   bikini|female surfer|sister sister relationship|surfing contest|swimsuit
## 1655                                                                                                       king|persian|spartan|training|xerxes
## 1657                                                                               game of death|government conspiracy|latina|oppression|police
## 1665                                                                              actor|fame|friendship between men|hollywood california|sitcom
## 1669                                                               clinical trial|female protagonist|neuropharmacology|psychiatrist|side effect
## 1779                                                                                 18th century|highlands|scotland|sexual cruelty|sword fight
## 1793                                                            hit in the crotch|kicked in the crotch|punched in the crotch|sparring|superhero
## 1804                                                                                                       captain|explosion|klingon|moon|peace
## 1829                                                                                                    fbi|group|island|serial killer|training
## 1873                                                                        adultery|based on novel|heart transplant|infidelity|protective male
## 1878                                                                                                     ghost|masked villain|monster|museum|tv
## 1919                                                                           client|dentures|false teeth|reference to peter pan|single parent
## 1935                                                                                              bus|concert|live concert|pop group|spice girl
## 1950                                                                                      hacking|hijacking|martial arts|revenge|special forces
## 1995                                                                                             baby rattle|famous line|murder|passenger|snake
## 2008                                                                                          friend|restaurant|secret|unrequited love|vacation
## 2022                                                                                              college|ghostface|killer|killing spree|murder
## 2044                                                                          accidental kiss|eating a worm|park|worm|yellowstone national park
## 2048                                                                                                         anime|castle|demon|steampunk|witch
## 2057                                                                                                    captain|darkness|eclipse|space|survival
## 2075                                                                                       age difference|courtesan|mansion|marriage|prostitute
## 2085                                                                                                  baseball|coach|high school|pitching|texas
## 2089                                                                                                       british|india|indian|muslim|pakistan
## 2109                                                                        based on tv series|fictional band|girl band|music industry|pop band
## 2146                                                                                                     ballot|election|new mexico|vote|voting
## 2150                                                                                beaver puppet|depression|dysfunctional family|puppet|speech
## 2170                                                        flashback|flashback within a flashback|multiple perspectives|obsession|split screen
## 2181                                                                                crime boss|drug smuggling|heroin|mafia boss|organized crime
## 2185                                                                                   civil rights|courage|protest|selma alabama|u.s. politics
## 2187                                                                                                    boogeyman|childhood|fear|hometown|uncle
## 2189                                                                          cartoon tiger|coming of age|tiger|tigger|title directed by female
## 2206                                                                      brother sister relationship|childhood home|man child|sibling|vomiting
## 2209                                                                                                  chainsaw|halloween|mansion|massacre|texas
## 2220                                                                   employer employee relationship|record store|store|thirty something|vinyl
## 2233                                                                       aborigine|australian|australian aborigine|australian outback|rancher
## 2267                                                                                            70mm film|biblical epic|faith|jewish|king herod
## 2276                                                                                            actress|bodyguard|new york city|play|playwright
## 2286                                                                                           anti semitism|breasts|chamberlain|friend|theatre
## 2329                                                                    female protagonist|hip hop|jewish american princess|rapper|record label
## 2335                                                                                                       19th century|ball|boy|inventor|steam
## 2351                                                                                                                                    dwegons
## 2390                                                                                         american dream|convertible|drugs|journalist|lawyer
## 2397                                                                      dying planet|planet|regaining one's memory|sacrifice|stabbed to death
## 2418                                                                                                 choreographer|dance|dancer|dancing|hip hop
## 2457                                                                   cult|father son relationship|gas station|on the run|supernatural ability
## 2465                                                                    headbanger|metallica|roadie|song in title|standing on the roof of a car
## 2469                                                                                               american|battalion|catholic|mexican|sergeant
## 2477                                                           adaptation directed by original author|cross dressing|madea series|remake|sequel
## 2482                                                                  hitman|impersonation|see through dress|topless female nudity|woman on top
## 2485                                                                        bag over head|buddhist temple|loss of friend|male bonding|nightclub
## 2486                                                                                        curtain|haunting|mansion|mute|xeroderma pigmentosum
## 2512                                                                                diner|food poisoning|health inspector|restaurant|undercover
## 2546                                                                     1920s|jack russell terrier|modern silent movie|movie star|movie studio
## 2558                                                                                                         boat|hong kong|murder|tunnel|twins
## 2580                                                                                            combat|head cut off|immortal|scotland|swordsman
## 2604                                                                                                       actor|actress|friend|love|reputation
## 2615                                                                 crossword puzzle|cryptography|enigma code|gay lead character|world war two
## 2631                                                                                                 death|election|hollywood|president|scandal
## 2638                                                                cheerleader|foreign exchange student|incestuous desire|incestuous kiss|prom
## 2656                                                                                                   baby|dancing|gay|name calling|penis slur
## 2684                                                          intelligence|intelligence agency|secret service|surveillance camera|war on terror
## 2697                                   apostrophe in title|critically bashed|hit on the head with a ball|punctuation in title|tyrannosaurus rex
## 2701                                                                                   black comedy|bureaucracy|dream|terrorist|wrongful arrest
## 2728                                                                                                               cia|mole|revolution|spy|ussr
## 2730                                                                                        cave bear|cro magnon|neanderthal|survival|tradition
## 2734                                                                                                    caterer|catering|chef|friend|lawn mower
## 2737                                                                        death|finger gun|video message|what happened to epilogue|wheelchair
## 2742                                                                                         mushroom|mute|roman soldier|screaming|wood carving
## 2750                                                                                                    herd|ostrich|waterhole|wildebeest|zebra
## 2751                                                                                             child hitman|dystopia|future|robot|self repair
## 2767                                                                                         australia|australian|crime boss|crocodile|gangster
## 2797                                                                                           banker|investment|investment banker|marriage|sex
## 2822                                                                              female protagonist|high school|makeover|matchmaker|popularity
## 2832                                                                                    alien|desire|female nudity|male frontal nudity|scotland
## 2833                                                                                            disc jockey|friendship|radio|vietnam|vietnamese
## 2864                                                                                          blood splatter|general|island|japan|world war two
## 2939                                                                                           insanity|photo lab|photo shop|photography|voyeur
## 2967                                                                              basketball|basketball player|nba|physical therapist|therapist
## 3005                                                                                                     friend|girl|mexico city|new jersey|sex
## 3051                                                                              black pantyhose|female stockinged legs|pantyhose|radio|tattoo
## 3059                                                                         apostrophe in title|face slap|four word title|grocery store|police
## 3081                                                                                 bicyclist|boy|doll|star wars reference|voice impersonation
## 3090                                                                                               friend|genius|janitor|loss of wife|professor
## 3094                                                                          championship|cheerleading|high school|teen comedy|teenage romance
## 3185                                                                                                                             color in title
## 3198                                                                 diner|eating a banana|masturbation|porn star|shooting a pornographic movie
## 3218                                                                                              assassin|corporation|pop star|reporter|satire
## 3223                                                                                               foundry|foundry worker|french|friend|titanic
## 3232                                                                    based on autobiography|based on novel|based on true story|murder|racism
## 3247                                                                                                                                           
## 3288                                                                                                          canada|cuba|france|guantanamo|hmo
## 3300                                                                                           criminal|drifter|gangster|money|surrogate mother
## 3304                                                            beverly hills california|family relationships|los angeles california|soap opera
## 3324                                                                      australian outback|crocodile|female reporter|journalist|new york city
## 3357                                                                                         friend|frog leg|on the road|restaurant|the muppets
## 3360                                                                                     austria|children|governess|love|orchestral music score
## 3374                                                                                                                                           
## 3387                                                                                                final showdown|ireland|justice|priest|sheep
## 3393                                                                          decoration|father daughter relationship|high school|prom|teenager
## 3407                                                                            long distance runner|olympics|oregon|runner|watching television
## 3421                                                                      desert storm|fbi|fbi agent|fragmentation grenade|woman kills attacker
## 3425                                                                                               drug lord|on the run|prison|vegan|vegetarian
## 3427 police officer killed|police officer shot in the chest|police officer shot in the forehead|police officer shot in the head|police shootout
## 3439                                                                      cigarette smoking|lobbyist|political satire|reporter|tobacco industry
## 3441                                                                                       1960s|age difference|france|loss of virginity|oxford
## 3480                                                   crushed by a car|female frontal nudity|female nudity|female rear nudity|one against many
## 3495                                                                             actor playing multiple roles|axe|dark comedy|masked man|sadism
## 3501                                                car accident|male full back nudity|practicing a suicide|public nudity|suicide contemplation
## 3507                                                                                        appearing from water|breasts|creature|partner|water
## 3508                                                                                           assassin|death|female protagonist|rogue|training
## 3541                                                                                                     gold|miner|preacher|prospector|sheriff
## 3547                                                              lesbian mother|lesbian parent|lesbian relationship|lesbian romance|lesbianism
## 3549                                                                                               bar|strip club|stripper|texas hold 'em|thong
## 3552                                                                                    box office hit|dancer|sex scene|television|underage sex
## 3561                                                                                                   boy|lesson|mississippi river|river|slave
## 3562                                                                                               drug deal|drugs|sex|sex on stairs|strip club
## 3595                                                                                                        college|love|party|reporter|tuition
## 3625                                                                                                 band|rock band|sex change|song|transsexual
## 3629                                                                                                         dentist|drugs|murder|sex|sunflower
## 3639                                                                    car hitting pedestrian|china|fan|nineteenth century|reversal of fortune
## 3681                                                                                     black militant|frustration|pizza|pizza parlor|pizzeria
## 3682                                                                                          basketball|cheerleader|college|harvard|philosophy
## 3703                                                                                             death of girlfriend|funeral|ghost|ouija|spirit
## 3743                                                                              18th birthday|birthday|community center|resurrection|teenager
## 3755                                                                      african american protagonist|based on novel|title spoken by character
## 3783                                                                                             car|comic book|comic book artist|iphone|memory
## 3795                                                                                            engineer|ethics|mountain|railroad|south america
## 3837                                                                                          contemporary west|cowboy|horse|jockey|neo western
## 3840                                                          incest|male nudity|older man younger woman relationship|orgasm|son murders mother
## 3850                                                                                addiction|diet pill|drug addiction|fast motion scene|heroin
## 3883                                                                                                   actor|love|obsession|obsessive love|star
## 3885                                                 androgynous|full frontal male nudity|irish republican army|psychological drama|tragic love
## 3901                                                                                 catholic|death row|inmate|oklahoma city|sexual promiscuity
## 3953                                                                                          1940s|female bare foot|picket fence|tire|vomiting
## 3969                                                                                    catholic|chancellor|divorce|king henry viii|thomas more
## 3973                                                                                              apache|apache indian|confederate|mexico|scout
## 3976                                                                                      accidental shooting|bird|crow|exploding animal|muslim
## 3995                                                                        kidnapping|los angeles california|neo noir|private detective|ransom
## 4032                                                                                    character name in title|depression|drugs|one word title
## 4054                                                                                                 dead body|death|lottery|small town|village
## 4096                                                camera shot of feet|female stockinged feet|female stockinged soles|nude pantyhose|pantyhose
## 4098                                                                                         attorney|happiness|house cleaner|physics|professor
## 4107                                                                                                            cancer|faith|hope|letter|prayer
## 4146                                                                                                        1930s|apple|dude|luck|new york city
## 4161                                                                            love|professor of history|radio|satyagraha|unscrupulous builder
## 4164                                                                                                                                           
## 4177                                                                                                                             color in title
## 4192                                                                                    canadian gothic|hospital|murder|paranormal|supernatural
## 4211                                                                                                 catering|monster|one word title|party|wasp
## 4221                                                                                     best friend|friendship|population|state in title|texas
## 4307                                                                                                gangster|heist|internet|mafia|miami florida
## 4373                                                                                                                                           
## 4374                                                                       fireworks|kiss|to be continued ending|uncle nephew relationship|usaf
## 4382                                                                                                  doctor|maine|only son|school choir|summer
## 4434                                                                                        american|filipino|friendship|guerrilla army|village
## 4489                                                  actress shares first name with character|appendicitis|hospital|loss of mother|supermarket
## 4498                                                                         1800s|bird|blue bird of happiness|foreign language adaptation|past
## 4500                                                                     brazil|exam|housekeeper|northeast region of brazil|portuguese language
## 4573                                                                                          mumbai riots|politician|riot|suicide|tragic event
## 4577                                                                                         dying|to do list|twenty something|underwear|voyeur
## 4602                                                                            female nudity|female pubic hair|masturbation|panties|pubic hair
## 4620                                         reference to snow white|sleeping bag|stepmother stepdaughter relationship|strangulation|totem pole
## 4643                                                                  chatting|missing person poster|online dating|photographer|sexual predator
## 4656                                                                                bible|christian propaganda|christianity|time machine|zealot
## 4657                                                                                                            bathroom|chase|girl|pimp|toilet
## 4690                                                                                        clown|clowning|dance|gang|south central los angeles
## 4691                                                                                                                       first person shooter
## 4786                                                                         bromance|manhattan new york city|new york city|photograph|surprise
## 4817                                                                                               paralympics|quad rugby|rugby|team|wheelchair
## 4871                                                                               dominican|drug dealer|prison|single mother|teenage pregnancy
## 4876                                                                                                                                           
## 4890                                                                                           arizona|gambling|gunfighter|poker game|year 1879
## 4987                                                               based on novel|brazil|female underarm hair|sex in a window|star appears nude
## 4994                                                                    computer hacker|girlfriend in a coma|nosebleed|prosthetic leg|road trip
## 5010                                                             male frontal nudity|male pubic hair|male rear nudity|pubic hair|street hustler
## 5032                                                                                              nudity|party|pirate|swimsuit|three word title
## 5040                                                                                               cult|fbi|hideout|prison escape|serial killer
##                                           movie_imdb_link
## 9    http://www.imdb.com/title/tt2395427/?ref_=fn_tt_tt_1
## 106  http://www.imdb.com/title/tt0409182/?ref_=fn_tt_tt_1
## 120  http://www.imdb.com/title/tt0382932/?ref_=fn_tt_tt_1
## 127  http://www.imdb.com/title/tt0234215/?ref_=fn_tt_tt_1
## 144  http://www.imdb.com/title/tt1305591/?ref_=fn_tt_tt_1
## 166  http://www.imdb.com/title/tt0409459/?ref_=fn_tt_tt_1
## 171  http://www.imdb.com/title/tt0173840/?ref_=fn_tt_tt_1
## 184  http://www.imdb.com/title/tt0440963/?ref_=fn_tt_tt_1
## 197  http://www.imdb.com/title/tt0455824/?ref_=fn_tt_tt_1
## 205  http://www.imdb.com/title/tt4262980/?ref_=fn_tt_tt_1
## 248  http://www.imdb.com/title/tt0118928/?ref_=fn_tt_tt_1
## 266  http://www.imdb.com/title/tt0433035/?ref_=fn_tt_tt_1
## 302  http://www.imdb.com/title/tt0449010/?ref_=fn_tt_tt_1
## 310  http://www.imdb.com/title/tt0112462/?ref_=fn_tt_tt_1
## 316  http://www.imdb.com/title/tt0133240/?ref_=fn_tt_tt_1
## 326  http://www.imdb.com/title/tt0209163/?ref_=fn_tt_tt_1
## 335  http://www.imdb.com/title/tt0138749/?ref_=fn_tt_tt_1
## 338  http://www.imdb.com/title/tt0380510/?ref_=fn_tt_tt_1
## 351  http://www.imdb.com/title/tt0112760/?ref_=fn_tt_tt_1
## 375  http://www.imdb.com/title/tt0338094/?ref_=fn_tt_tt_1
## 383  http://www.imdb.com/title/tt0266987/?ref_=fn_tt_tt_1
## 387  http://www.imdb.com/title/tt0120461/?ref_=fn_tt_tt_1
## 409  http://www.imdb.com/title/tt0457939/?ref_=fn_tt_tt_1
## 418  http://www.imdb.com/title/tt0397535/?ref_=fn_tt_tt_1
## 572  http://www.imdb.com/title/tt0415306/?ref_=fn_tt_tt_1
## 600  http://www.imdb.com/title/tt2302755/?ref_=fn_tt_tt_1
## 602  http://www.imdb.com/title/tt1217613/?ref_=fn_tt_tt_1
## 620  http://www.imdb.com/title/tt1448755/?ref_=fn_tt_tt_1
## 671  http://www.imdb.com/title/tt1645170/?ref_=fn_tt_tt_1
## 693  http://www.imdb.com/title/tt0156934/?ref_=fn_tt_tt_1
## 698  http://www.imdb.com/title/tt0107290/?ref_=fn_tt_tt_1
## 702  http://www.imdb.com/title/tt0430304/?ref_=fn_tt_tt_1
## 704  http://www.imdb.com/title/tt0112346/?ref_=fn_tt_tt_1
## 765  http://www.imdb.com/title/tt0822854/?ref_=fn_tt_tt_1
## 773  http://www.imdb.com/title/tt1057500/?ref_=fn_tt_tt_1
## 778  http://www.imdb.com/title/tt0762125/?ref_=fn_tt_tt_1
## 828  http://www.imdb.com/title/tt0118971/?ref_=fn_tt_tt_1
## 831  http://www.imdb.com/title/tt0367479/?ref_=fn_tt_tt_1
## 898  http://www.imdb.com/title/tt0463034/?ref_=fn_tt_tt_1
## 923  http://www.imdb.com/title/tt0245803/?ref_=fn_tt_tt_1
## 965  http://www.imdb.com/title/tt0400497/?ref_=fn_tt_tt_1
## 978  http://www.imdb.com/title/tt0191397/?ref_=fn_tt_tt_1
## 983  http://www.imdb.com/title/tt0099700/?ref_=fn_tt_tt_1
## 1005 http://www.imdb.com/title/tt0309377/?ref_=fn_tt_tt_1
## 1006 http://www.imdb.com/title/tt0963178/?ref_=fn_tt_tt_1
## 1018 http://www.imdb.com/title/tt1240982/?ref_=fn_tt_tt_1
## 1049 http://www.imdb.com/title/tt0272152/?ref_=fn_tt_tt_1
## 1081 http://www.imdb.com/title/tt0109446/?ref_=fn_tt_tt_1
## 1082 http://www.imdb.com/title/tt0825232/?ref_=fn_tt_tt_1
## 1098 http://www.imdb.com/title/tt0111255/?ref_=fn_tt_tt_1
## 1103 http://www.imdb.com/title/tt0396592/?ref_=fn_tt_tt_1
## 1110 http://www.imdb.com/title/tt0337921/?ref_=fn_tt_tt_1
## 1117 http://www.imdb.com/title/tt0364970/?ref_=fn_tt_tt_1
## 1127 http://www.imdb.com/title/tt1139328/?ref_=fn_tt_tt_1
## 1136 http://www.imdb.com/title/tt1634122/?ref_=fn_tt_tt_1
## 1146 http://www.imdb.com/title/tt0401855/?ref_=fn_tt_tt_1
## 1203 http://www.imdb.com/title/tt2561572/?ref_=fn_tt_tt_1
## 1214 http://www.imdb.com/title/tt0401792/?ref_=fn_tt_tt_1
## 1243 http://www.imdb.com/title/tt0397101/?ref_=fn_tt_tt_1
## 1278 http://www.imdb.com/title/tt0246544/?ref_=fn_tt_tt_1
## 1282 http://www.imdb.com/title/tt0070379/?ref_=fn_tt_tt_1
## 1322 http://www.imdb.com/title/tt0455782/?ref_=fn_tt_tt_1
## 1329 http://www.imdb.com/title/tt0109506/?ref_=fn_tt_tt_1
## 1337 http://www.imdb.com/title/tt0086393/?ref_=fn_tt_tt_1
## 1382 http://www.imdb.com/title/tt1723121/?ref_=fn_tt_tt_1
## 1383 http://www.imdb.com/title/tt0972558/?ref_=fn_tt_tt_1
## 1391 http://www.imdb.com/title/tt0116410/?ref_=fn_tt_tt_1
## 1392 http://www.imdb.com/title/tt0120834/?ref_=fn_tt_tt_1
## 1429 http://www.imdb.com/title/tt2140373/?ref_=fn_tt_tt_1
## 1490 http://www.imdb.com/title/tt0365929/?ref_=fn_tt_tt_1
## 1497 http://www.imdb.com/title/tt3488710/?ref_=fn_tt_tt_1
## 1538 http://www.imdb.com/title/tt0483607/?ref_=fn_tt_tt_1
## 1604 http://www.imdb.com/title/tt0327056/?ref_=fn_tt_tt_1
## 1627 http://www.imdb.com/title/tt0337563/?ref_=fn_tt_tt_1
## 1644 http://www.imdb.com/title/tt0385726/?ref_=fn_tt_tt_1
## 1651 http://www.imdb.com/title/tt0300532/?ref_=fn_tt_tt_1
## 1655 http://www.imdb.com/title/tt1073498/?ref_=fn_tt_tt_1
## 1657 http://www.imdb.com/title/tt0093894/?ref_=fn_tt_tt_1
## 1665 http://www.imdb.com/title/tt0387199/?ref_=fn_tt_tt_1
## 1669 http://www.imdb.com/title/tt2053463/?ref_=fn_tt_tt_1
## 1779 http://www.imdb.com/title/tt0114287/?ref_=fn_tt_tt_1
## 1793 http://www.imdb.com/title/tt1650554/?ref_=fn_tt_tt_1
## 1804 http://www.imdb.com/title/tt0102975/?ref_=fn_tt_tt_1
## 1829 http://www.imdb.com/title/tt0297284/?ref_=fn_tt_tt_1
## 1873 http://www.imdb.com/title/tt1972779/?ref_=fn_tt_tt_1
## 1878 http://www.imdb.com/title/tt0331632/?ref_=fn_tt_tt_1
## 1919 http://www.imdb.com/title/tt0388500/?ref_=fn_tt_tt_1
## 1935 http://www.imdb.com/title/tt0120185/?ref_=fn_tt_tt_1
## 1950 http://www.imdb.com/title/tt0480255/?ref_=fn_tt_tt_1
## 1995 http://www.imdb.com/title/tt0417148/?ref_=fn_tt_tt_1
## 2008 http://www.imdb.com/title/tt1440232/?ref_=fn_tt_tt_1
## 2022 http://www.imdb.com/title/tt0120082/?ref_=fn_tt_tt_1
## 2044 http://www.imdb.com/title/tt0120645/?ref_=fn_tt_tt_1
## 2048 http://www.imdb.com/title/tt0347149/?ref_=fn_tt_tt_1
## 2057 http://www.imdb.com/title/tt0134847/?ref_=fn_tt_tt_1
## 2075 http://www.imdb.com/title/tt1179258/?ref_=fn_tt_tt_1
## 2085 http://www.imdb.com/title/tt0265662/?ref_=fn_tt_tt_1
## 2089 http://www.imdb.com/title/tt0083987/?ref_=fn_tt_tt_1
## 2109 http://www.imdb.com/title/tt0236348/?ref_=fn_tt_tt_1
## 2146 http://www.imdb.com/title/tt1027862/?ref_=fn_tt_tt_1
## 2150 http://www.imdb.com/title/tt1321860/?ref_=fn_tt_tt_1
## 2170 http://www.imdb.com/title/tt0324554/?ref_=fn_tt_tt_1
## 2181 http://www.imdb.com/title/tt0067116/?ref_=fn_tt_tt_1
## 2185 http://www.imdb.com/title/tt1020072/?ref_=fn_tt_tt_1
## 2187 http://www.imdb.com/title/tt0357507/?ref_=fn_tt_tt_1
## 2189 http://www.imdb.com/title/tt0220099/?ref_=fn_tt_tt_1
## 2206 http://www.imdb.com/title/tt1371150/?ref_=fn_tt_tt_1
## 2209 http://www.imdb.com/title/tt1572315/?ref_=fn_tt_tt_1
## 2220 http://www.imdb.com/title/tt0146882/?ref_=fn_tt_tt_1
## 2233 http://www.imdb.com/title/tt0102744/?ref_=fn_tt_tt_1
## 2267 http://www.imdb.com/title/tt0059245/?ref_=fn_tt_tt_1
## 2276 http://www.imdb.com/title/tt0109348/?ref_=fn_tt_tt_1
## 2286 http://www.imdb.com/title/tt0413015/?ref_=fn_tt_tt_1
## 2329 http://www.imdb.com/title/tt0266747/?ref_=fn_tt_tt_1
## 2335 http://www.imdb.com/title/tt0348121/?ref_=fn_tt_tt_1
## 2351 http://www.imdb.com/title/tt1134666/?ref_=fn_tt_tt_1
## 2390 http://www.imdb.com/title/tt0120669/?ref_=fn_tt_tt_1
## 2397 http://www.imdb.com/title/tt0088170/?ref_=fn_tt_tt_1
## 2418 http://www.imdb.com/title/tt0322589/?ref_=fn_tt_tt_1
## 2457 http://www.imdb.com/title/tt2649554/?ref_=fn_tt_tt_1
## 2465 http://www.imdb.com/title/tt2172935/?ref_=fn_tt_tt_1
## 2469 http://www.imdb.com/title/tt0120775/?ref_=fn_tt_tt_1
## 2477 http://www.imdb.com/title/tt1142800/?ref_=fn_tt_tt_1
## 2482 http://www.imdb.com/title/tt0465494/?ref_=fn_tt_tt_1
## 2485 http://www.imdb.com/title/tt0164003/?ref_=fn_tt_tt_1
## 2486 http://www.imdb.com/title/tt0230600/?ref_=fn_tt_tt_1
## 2512 http://www.imdb.com/title/tt0462395/?ref_=fn_tt_tt_1
## 2546 http://www.imdb.com/title/tt1655442/?ref_=fn_tt_tt_1
## 2558 http://www.imdb.com/title/tt0101764/?ref_=fn_tt_tt_1
## 2580 http://www.imdb.com/title/tt0091203/?ref_=fn_tt_tt_1
## 2604 http://www.imdb.com/title/tt0084805/?ref_=fn_tt_tt_1
## 2615 http://www.imdb.com/title/tt2084970/?ref_=fn_tt_tt_1
## 2631 http://www.imdb.com/title/tt0120885/?ref_=fn_tt_tt_1
## 2638 http://www.imdb.com/title/tt0277371/?ref_=fn_tt_tt_1
## 2656 http://www.imdb.com/title/tt0120772/?ref_=fn_tt_tt_1
## 2684 http://www.imdb.com/title/tt1972571/?ref_=fn_tt_tt_1
## 2697 http://www.imdb.com/title/tt0120598/?ref_=fn_tt_tt_1
## 2701 http://www.imdb.com/title/tt0088846/?ref_=fn_tt_tt_1
## 2728 http://www.imdb.com/title/tt0488352/?ref_=fn_tt_tt_1
## 2730 http://www.imdb.com/title/tt0090848/?ref_=fn_tt_tt_1
## 2734 http://www.imdb.com/title/tt0165773/?ref_=fn_tt_tt_1
## 2737 http://www.imdb.com/title/tt0114660/?ref_=fn_tt_tt_1
## 2742 http://www.imdb.com/title/tt1020558/?ref_=fn_tt_tt_1
## 2750 http://www.imdb.com/title/tt1487931/?ref_=fn_tt_tt_1
## 2751 http://www.imdb.com/title/tt1971325/?ref_=fn_tt_tt_1
## 2767 http://www.imdb.com/title/tt0092493/?ref_=fn_tt_tt_1
## 2797 http://www.imdb.com/title/tt0770772/?ref_=fn_tt_tt_1
## 2822 http://www.imdb.com/title/tt0112697/?ref_=fn_tt_tt_1
## 2832 http://www.imdb.com/title/tt1441395/?ref_=fn_tt_tt_1
## 2833 http://www.imdb.com/title/tt0093105/?ref_=fn_tt_tt_1
## 2864 http://www.imdb.com/title/tt0498380/?ref_=fn_tt_tt_1
## 2939 http://www.imdb.com/title/tt0265459/?ref_=fn_tt_tt_1
## 2967 http://www.imdb.com/title/tt1407061/?ref_=fn_tt_tt_1
## 3005 http://www.imdb.com/title/tt0399095/?ref_=fn_tt_tt_1
## 3051 http://www.imdb.com/title/tt0213790/?ref_=fn_tt_tt_1
## 3059 http://www.imdb.com/title/tt0108550/?ref_=fn_tt_tt_1
## 3081 http://www.imdb.com/title/tt0083866/?ref_=fn_tt_tt_1
## 3090 http://www.imdb.com/title/tt0119217/?ref_=fn_tt_tt_1
## 3094 http://www.imdb.com/title/tt0204946/?ref_=fn_tt_tt_1
## 3185 http://www.imdb.com/title/tt2883434/?ref_=fn_tt_tt_1
## 3198 http://www.imdb.com/title/tt1411664/?ref_=fn_tt_tt_1
## 3218 http://www.imdb.com/title/tt0884224/?ref_=fn_tt_tt_1
## 3223 http://www.imdb.com/title/tt0129923/?ref_=fn_tt_tt_1
## 3232 http://www.imdb.com/title/tt1210039/?ref_=fn_tt_tt_1
## 3247 http://www.imdb.com/title/tt1568139/?ref_=fn_tt_tt_1
## 3288 http://www.imdb.com/title/tt0386032/?ref_=fn_tt_tt_1
## 3300 http://www.imdb.com/title/tt0202677/?ref_=fn_tt_tt_1
## 3304 http://www.imdb.com/title/tt0092325/?ref_=fn_tt_tt_1
## 3324 http://www.imdb.com/title/tt0090555/?ref_=fn_tt_tt_1
## 3357 http://www.imdb.com/title/tt0079588/?ref_=fn_tt_tt_1
## 3360 http://www.imdb.com/title/tt0059742/?ref_=fn_tt_tt_1
## 3374 http://www.imdb.com/title/tt4254584/?ref_=fn_tt_tt_1
## 3387 http://www.imdb.com/title/tt1300851/?ref_=fn_tt_tt_1
## 3393 http://www.imdb.com/title/tt1604171/?ref_=fn_tt_tt_1
## 3407 http://www.imdb.com/title/tt0119937/?ref_=fn_tt_tt_1
## 3421 http://www.imdb.com/title/tt0360323/?ref_=fn_tt_tt_1
## 3425 http://www.imdb.com/title/tt0473188/?ref_=fn_tt_tt_1
## 3427 http://www.imdb.com/title/tt2112277/?ref_=fn_tt_tt_1
## 3439 http://www.imdb.com/title/tt0427944/?ref_=fn_tt_tt_1
## 3441 http://www.imdb.com/title/tt1174732/?ref_=fn_tt_tt_1
## 3480 http://www.imdb.com/title/tt0112851/?ref_=fn_tt_tt_1
## 3495 http://www.imdb.com/title/tt0251736/?ref_=fn_tt_tt_1
## 3501 http://www.imdb.com/title/tt1315981/?ref_=fn_tt_tt_1
## 3507 http://www.imdb.com/title/tt0105459/?ref_=fn_tt_tt_1
## 3508 http://www.imdb.com/title/tt1592154/?ref_=fn_tt_tt_1
## 3541 http://www.imdb.com/title/tt0089767/?ref_=fn_tt_tt_1
## 3547 http://www.imdb.com/title/tt0130444/?ref_=fn_tt_tt_1
## 3549 http://www.imdb.com/title/tt0323939/?ref_=fn_tt_tt_1
## 3552 http://www.imdb.com/title/tt0323807/?ref_=fn_tt_tt_1
## 3561 http://www.imdb.com/title/tt0106223/?ref_=fn_tt_tt_1
## 3562 http://www.imdb.com/title/tt0139239/?ref_=fn_tt_tt_1
## 3595 http://www.imdb.com/title/tt0283111/?ref_=fn_tt_tt_1
## 3625 http://www.imdb.com/title/tt0248845/?ref_=fn_tt_tt_1
## 3629 http://www.imdb.com/title/tt0234354/?ref_=fn_tt_tt_1
## 3639 http://www.imdb.com/title/tt1541995/?ref_=fn_tt_tt_1
## 3681 http://www.imdb.com/title/tt0097216/?ref_=fn_tt_tt_1
## 3682 http://www.imdb.com/title/tt0242508/?ref_=fn_tt_tt_1
## 3703 http://www.imdb.com/title/tt1204977/?ref_=fn_tt_tt_1
## 3743 http://www.imdb.com/title/tt1045655/?ref_=fn_tt_tt_1
## 3755 http://www.imdb.com/title/tt0795438/?ref_=fn_tt_tt_1
## 3783 http://www.imdb.com/title/tt0935075/?ref_=fn_tt_tt_1
## 3795 http://www.imdb.com/title/tt0039927/?ref_=fn_tt_tt_1
## 3837 http://www.imdb.com/title/tt0903131/?ref_=fn_tt_tt_1
## 3840 http://www.imdb.com/title/tt0379976/?ref_=fn_tt_tt_1
## 3850 http://www.imdb.com/title/tt0180093/?ref_=fn_tt_tt_1
## 3883 http://www.imdb.com/title/tt0119574/?ref_=fn_tt_tt_1
## 3885 http://www.imdb.com/title/tt0104036/?ref_=fn_tt_tt_1
## 3901 http://www.imdb.com/title/tt0830900/?ref_=fn_tt_tt_1
## 3953 http://www.imdb.com/title/tt0119502/?ref_=fn_tt_tt_1
## 3969 http://www.imdb.com/title/tt0060665/?ref_=fn_tt_tt_1
## 3973 http://www.imdb.com/title/tt0059418/?ref_=fn_tt_tt_1
## 3976 http://www.imdb.com/title/tt1341167/?ref_=fn_tt_tt_1
## 3995 http://www.imdb.com/title/tt0060490/?ref_=fn_tt_tt_1
## 4032 http://www.imdb.com/title/tt1850418/?ref_=fn_tt_tt_1
## 4054 http://www.imdb.com/title/tt0166396/?ref_=fn_tt_tt_1
## 4096 http://www.imdb.com/title/tt0118541/?ref_=fn_tt_tt_1
## 4098 http://www.imdb.com/title/tt0268690/?ref_=fn_tt_tt_1
## 4107 http://www.imdb.com/title/tt1462054/?ref_=fn_tt_tt_1
## 4146 http://www.imdb.com/title/tt0055312/?ref_=fn_tt_tt_1
## 4161 http://www.imdb.com/title/tt0456144/?ref_=fn_tt_tt_1
## 4164 http://www.imdb.com/title/tt4080386/?ref_=fn_tt_tt_1
## 4177 http://www.imdb.com/title/tt0851515/?ref_=fn_tt_tt_1
## 4192 http://www.imdb.com/title/tt0380732/?ref_=fn_tt_tt_1
## 4211 http://www.imdb.com/title/tt3300572/?ref_=fn_tt_tt_1
## 4221 http://www.imdb.com/title/tt0118925/?ref_=fn_tt_tt_1
## 4307 http://www.imdb.com/title/tt0338497/?ref_=fn_tt_tt_1
## 4373 http://www.imdb.com/title/tt4058122/?ref_=fn_tt_tt_1
## 4374 http://www.imdb.com/title/tt2645670/?ref_=fn_tt_tt_1
## 4382 http://www.imdb.com/title/tt0247425/?ref_=fn_tt_tt_1
## 4434 http://www.imdb.com/title/tt1562847/?ref_=fn_tt_tt_1
## 4489 http://www.imdb.com/title/tt2414046/?ref_=fn_tt_tt_1
## 4498 http://www.imdb.com/title/tt0032264/?ref_=fn_tt_tt_1
## 4500 http://www.imdb.com/title/tt3742378/?ref_=fn_tt_tt_1
## 4573 http://www.imdb.com/title/tt0248012/?ref_=fn_tt_tt_1
## 4577 http://www.imdb.com/title/tt0119019/?ref_=fn_tt_tt_1
## 4602 http://www.imdb.com/title/tt0472259/?ref_=fn_tt_tt_1
## 4620 http://www.imdb.com/title/tt2149137/?ref_=fn_tt_tt_1
## 4643 http://www.imdb.com/title/tt0424136/?ref_=fn_tt_tt_1
## 4656 http://www.imdb.com/title/tt0295725/?ref_=fn_tt_tt_1
## 4657 http://www.imdb.com/title/tt0490166/?ref_=fn_tt_tt_1
## 4690 http://www.imdb.com/title/tt0436724/?ref_=fn_tt_tt_1
## 4691 http://www.imdb.com/title/tt2983582/?ref_=fn_tt_tt_1
## 4786 http://www.imdb.com/title/tt2112209/?ref_=fn_tt_tt_1
## 4817 http://www.imdb.com/title/tt0436613/?ref_=fn_tt_tt_1
## 4871 http://www.imdb.com/title/tt0389235/?ref_=fn_tt_tt_1
## 4876 http://www.imdb.com/title/tt1360826/?ref_=fn_tt_tt_1
## 4890 http://www.imdb.com/title/tt3210710/?ref_=fn_tt_tt_1
## 4987 http://www.imdb.com/title/tt0085575/?ref_=fn_tt_tt_1
## 4994 http://www.imdb.com/title/tt2910814/?ref_=fn_tt_tt_1
## 5010 http://www.imdb.com/title/tt0067580/?ref_=fn_tt_tt_1
## 5032 http://www.imdb.com/title/tt2049518/?ref_=fn_tt_tt_1
## 5040 http://www.imdb.com/title/tt2071645/?ref_=fn_tt_tt_1
##      num_user_for_reviews   language      country content_rating
## 9                    1117    English          USA          PG-13
## 106                   629    English          USA          PG-13
## 120                   626    English          USA              G
## 127                  2789    English          USA              R
## 144                   112    English          USA             PG
## 166                  1229    English          USA              R
## 171                   788    English          USA          PG-13
## 184                   820    English          USA          PG-13
## 197                   450    English    Australia          PG-13
## 205                    13   Japanese        Japan               
## 248                   277    English          USA          PG-13
## 266                   426    English          USA          PG-13
## 302                  1690    English          USA             PG
## 310                   539    English          USA          PG-13
## 316                   217    English          USA             PG
## 326                   890    English          USA          PG-13
## 335                   139    English          USA             PG
## 338                   593    English          USA          PG-13
## 351                   169    English          USA          PG-13
## 375                   179    English          USA             PG
## 383                   361    English      Germany              R
## 387                   181    English          USA          PG-13
## 409                   483    English          USA          PG-13
## 418                   548    English          USA          PG-13
## 572                   437    English          USA          PG-13
## 600                   698    English          USA              R
## 602                   800    English          USA          PG-13
## 620                   157    English           UK              R
## 671                   310    English          USA              R
## 693                   290    English          USA              R
## 698                   895    English          USA          PG-13
## 702                   187    English          USA          PG-13
## 704                   214    English          USA          PG-13
## 765                   338    English          USA              R
## 773                   259    English          USA          PG-13
## 778                    72    English        Spain             PG
## 828                   431    English          USA              R
## 831                   147    English          USA          PG-13
## 898                   195    English          USA          PG-13
## 923                   180    English          USA          PG-13
## 965                   168    English          USA              G
## 978                   261    English          USA          PG-13
## 983                   148    English          USA          PG-13
## 1005                  260    English          USA              R
## 1006                  190    English          USA              R
## 1018                  274    English          USA              R
## 1049                  537    English          USA          PG-13
## 1081                   94    English          USA          PG-13
## 1082                  310    English          USA          PG-13
## 1098                  116    English         Peru              R
## 1103                   91    English          USA             PG
## 1110                  355    English          USA          PG-13
## 1117                  214    English       France          PG-13
## 1127                  349    English       France          PG-13
## 1136                  142    English          USA             PG
## 1146                  502    English          USA              R
## 1203                  144    English          USA              R
## 1214                 1732    English          USA              R
## 1243                  371    English          USA          PG-13
## 1278                  291    English      Germany          PG-13
## 1282                  223    English          USA              R
## 1322                   90    English          USA              R
## 1329                  545    English          USA              R
## 1337                  224    English           UK             PG
## 1382                  301    English          USA              R
## 1383                   21    Russian       Russia               
## 1391                   57    English          USA          PG-13
## 1392                  194    English          USA          PG-13
## 1429                  306    English          USA          PG-13
## 1490                  142    English          USA              R
## 1497                  195    English          USA             PG
## 1538                  396    English           UK              R
## 1604                  935    English          USA              R
## 1627                  339    English          USA          PG-13
## 1644                  145    English          USA             PG
## 1651                  216    English          USA          PG-13
## 1655                  409    English          USA          PG-13
## 1657                  226    English          USA              R
## 1665                  145    English          USA          TV-MA
## 1669                  274    English          USA              R
## 1779                  126    English          USA              R
## 1793                  378    English          USA              R
## 1804                  188    English          USA             PG
## 1829                  226    English          USA              R
## 1873                   99    English          USA          PG-13
## 1878                  149    English          USA             PG
## 1919                   59    English          USA          PG-13
## 1935                  261    English           UK             PG
## 1950                  165    English          USA          PG-13
## 1995                 1033    English      Germany              R
## 2008                   48     French       France      Not Rated
## 2022                  488    English          USA              R
## 2044                   37    English          USA             PG
## 2048                  330   Japanese        Japan             PG
## 2057                  805    English          USA              R
## 2075                   43    English           UK              R
## 2085                  174    English          USA              G
## 2089                  256    English           UK             PG
## 2109                  242    English       Canada          PG-13
## 2146                   79    English          USA          PG-13
## 2150                  148    English          USA          PG-13
## 2170                  298    English          USA          PG-13
## 2181                  280    English          USA              R
## 2185                  212    English           UK          PG-13
## 2187                  389    English          USA          PG-13
## 2189                   53    English          USA              G
## 2206                  145    English          USA              R
## 2209                  255    English          USA              R
## 2220                  602    English           UK              R
## 2233                   97    English    Australia          PG-13
## 2267                  100    English          USA              G
## 2276                   86    English          USA              R
## 2286                  180    English           UK              R
## 2329                   66    English          USA              R
## 2335                   79   Japanese        Japan          PG-13
## 2351                    3    English          USA             PG
## 2390                  648    English          USA              R
## 2397                  192    English          USA             PG
## 2418                  144    English          USA          PG-13
## 2457                  156    English       Greece          PG-13
## 2465                   56    English          USA              R
## 2469                   42    English        Spain              R
## 2477                   45    English          USA          PG-13
## 2482                  376    English       France              R
## 2485                   67    English          USA              R
## 2486                 1109    English          USA          PG-13
## 2512                  112    English          USA          PG-13
## 2546                  583    English       France          PG-13
## 2558                   72    English          USA              R
## 2580                  316    English           UK              R
## 2604                  194    English          USA             PG
## 2615                  608    English           UK          PG-13
## 2631                  218    English          USA              R
## 2638                  393    English          USA              R
## 2656                  132    English          USA              R
## 2684                  158    English           UK              R
## 2697                   53    English       Canada              G
## 2701                  513    English           UK              R
## 2728                   39    English          USA               
## 2730                   62    English          USA              R
## 2734                   83    English       Canada          PG-13
## 2737                  144    English          USA              R
## 2742                  201    English           UK              R
## 2750                   12    English South Africa      Not Rated
## 2751                  134    English     Bulgaria              R
## 2767                   62    English    Australia             PG
## 2797                   55    English          USA              R
## 2822                  248    English          USA          PG-13
## 2832                  616    English           UK              R
## 2833                  131    English          USA              R
## 2864                  316   Japanese          USA              R
## 2939                  605    English          USA              R
## 2967                   36    English          USA             PG
## 3005                   75    English      Germany              R
## 3051                   79    English          USA              R
## 3059                  292    English          USA          PG-13
## 3081                  515    English          USA             PG
## 3090                  682    English          USA              R
## 3094                  385    English          USA          PG-13
## 3185                   57    English          USA          PG-13
## 3198                   64    English          USA              R
## 3218                  112    English          USA              R
## 3223                   14     French       France               
## 3232                    3    English          USA          PG-13
## 3247                   11    English       Canada          PG-13
## 3288                  429    English          USA          PG-13
## 3300                  327    English          USA              R
## 3304                   54    English          USA          TV-14
## 3324                   93    English    Australia          PG-13
## 3357                   92    English           UK              G
## 3360                  406    English          USA              G
## 3374                    6    English          USA              R
## 3387                  188    English          USA              R
## 3393                   32    English          USA             PG
## 3407                   37    English          USA          PG-13
## 3421                   34    English          USA              R
## 3425                   31    English          USA              R
## 3427                   24    English          USA              R
## 3439                  323    English          USA              R
## 3441                  237    English           UK          PG-13
## 3480                  202    English          USA              R
## 3495                  922    English          USA              R
## 3501                  247    English          USA              R
## 3507                   75    English           UK              R
## 3508                   83    English          USA               
## 3541                  138    English          USA              R
## 3547                   51     German      Germany               
## 3549                   65    English          USA              R
## 3552                   21    Italian        Italy              R
## 3561                   54    English          USA             PG
## 3562                  418    English          USA              R
## 3595                  258    English      Germany              R
## 3625                  231    English          USA              R
## 3629                  105    English          USA              R
## 3639                   22    English        China          PG-13
## 3681                  418    English          USA              R
## 3682                   69    English          USA              R
## 3703                  159    English          USA          PG-13
## 3743                  113    English          USA          PG-13
## 3755                   21    English          USA          PG-13
## 3783                  144    English          USA          PG-13
## 3795                   23    English          USA       Approved
## 3837                    8    English       Canada              R
## 3840                   65    English        Spain      Not Rated
## 3850                 1916    English          USA              R
## 3883                   48    English           UK          PG-13
## 3885                  148    English           UK              R
## 3901                   47    English          USA          TV-MA
## 3953                   28    English          USA              R
## 3969                  167    English           UK       Approved
## 3973                   67    English          USA       Approved
## 3976                  148    English           UK              R
## 3995                   74    English          USA      Not Rated
## 4032                   13    English          USA          PG-13
## 4054                  213    English           UK             PG
## 4096                   49    English          USA              R
## 4098                  115    English          USA              R
## 4107                   65    English          USA             PG
## 4146                   40    English          USA       Approved
## 4161                  106      Hindi        India          PG-13
## 4164                    8    Panjabi       Canada               
## 4177                    4   Mandarin        China               
## 4192                    5     French       Canada               
## 4211                   23    English      Germany      Not Rated
## 4221                   63    English          USA             PG
## 4307                   18    English          USA      Not Rated
## 4373                   NA    English          USA               
## 4374                   12    English       Canada          PG-13
## 4382                  510    English          USA              R
## 4434                    8    English          USA              R
## 4489                    2    Spanish       Mexico               
## 4498                   25    English          USA       Approved
## 4500                   26 Portuguese       Brazil              R
## 4573                   19      Hindi        India               
## 4577                   29    English          USA              R
## 4602                   31    English          USA      Not Rated
## 4620                   14    English          USA          PG-13
## 4643                  651    English          USA              R
## 4656                  158    English          USA             PG
## 4657                   72    English           UK              R
## 4690                   46    English          USA          PG-13
## 4691                   11    English          USA               
## 4786                    3    English          USA               
## 4817                   70    English          USA              R
## 4871                   15    English          USA              R
## 4876                    8    English       Canada             PG
## 4890                    4    English          USA               
## 4987                    9 Portuguese       Brazil              R
## 4994                  180    English          USA          PG-13
## 5010                   16    English          USA      Not Rated
## 5032                    8    English          USA               
## 5040                  359    English          USA          TV-14
##          budget title_year actor_2_facebook_likes imdb_score aspect_ratio
## 9     250000000       2015                  21000        7.5         2.35
## 106   160000000       2006                   2000        5.6         2.35
## 120   150000000       2007                   1000        8.0         2.35
## 127   150000000       2003                    198        7.2         2.35
## 144   150000000       2011                    562        5.4         2.35
## 166   130000000       2009                    745        7.7         2.35
## 171   137000000       2001                   2000        6.4         1.85
## 184   110000000       2007                    897        8.1         2.35
## 197   130000000       2008                    284        6.6         2.35
## 205          NA       2016                    106        8.2         2.35
## 248   116000000       1997                    293        5.8         2.35
## 266   110000000       2011                    929        7.1         2.35
## 302   100000000       2006                    762        5.1         2.35
## 310   100000000       1995                    710        5.4         1.85
## 316   140000000       2002                    770        7.1         1.50
## 326    98000000       2001                   3000        6.3         2.35
## 335    95000000       2000                    919        6.9         1.85
## 338    65000000       2009                    560        6.7         2.35
## 351    98000000       1995                    903        5.6         2.35
## 375    90000000       2003                    569        4.9         2.35
## 383    92000000       2001                    577        7.0         2.35
## 387    90000000       1997                    643        5.4         1.85
## 409    85000000       2006                   3000        6.9         1.85
## 418    85000000       2005                    691        7.3         2.35
## 572    73000000       2006                   1000        6.6         2.35
## 600    70000000       2013                  11000        6.5         2.35
## 602    70000000       2011                    697        5.8         2.35
## 620    35000000       2011                  22000        6.5         2.35
## 671    65000000       2012                    346        6.4         2.35
## 693    64000000       1999                   1000        5.1         1.85
## 698    63000000       1993                    610        8.1         1.85
## 702    64000000       2006                    862        4.3         1.85
## 704    62000000       1995                    517        6.8         2.35
## 765    61000000       2007                    467        7.2         2.35
## 773    60000000       2009                  11000        7.4         2.35
## 778    70000000       2009                  10000        6.1         2.35
## 828    57000000       1997                  14000        7.5         2.35
## 831    58000000       2004                   3000        6.3         2.35
## 898    54000000       2006                    245        5.6         1.85
## 923    52000000       2003                    691        5.5         2.35
## 965    50000000       2005                    651        4.7         1.85
## 978    50000000       2000                   4000        6.5         1.85
## 983    50000000       1990                    823        6.3         1.85
## 1005   50000000       2002                   1000        6.4         2.35
## 1006   50000000       2009                    450        6.5         2.35
## 1018   49900000       2011                  11000        5.6         2.35
## 1049   48000000       2001                  12000        7.4         2.35
## 1081   45000000       1994                    577        6.7         2.35
## 1082   45000000       2007                   2000        7.4         1.85
## 1098   45000000       1994                    279        5.4         1.85
## 1103   26000000       2004                    641        4.3         2.35
## 1110   25000000       2004                    216        6.5         2.35
## 1117   70000000       2008                    844        5.6         2.35
## 1127   45000000       2010                    766        7.2         2.35
## 1136   45000000       2011                    141        6.3         2.35
## 1146   50000000       2006                    845        6.8         2.35
## 1203   40000000       2015                   2000        6.0         1.85
## 1214   40000000       2005                    472        8.1         1.85
## 1243   43000000       2005                    351        6.5         2.35
## 1278   40000000       2001                    931        4.7         2.35
## 1282     500000       1973                    926        7.4         1.85
## 1322   25000000       2007                      3        6.9         2.35
## 1329   23000000       1994                    581        7.6         1.85
## 1337   39000000       1983                    542        4.9         2.35
## 1382   37000000       2013                    707        7.0         2.35
## 1383   29500000       2009                     35        5.3           NA
## 1391   36000000       1996                    912        6.7         1.85
## 1392   36000000       1999                    602        6.8         2.35
## 1429   35000000       2013                   2000        7.5         2.35
## 1490   35000000       2009                    603        5.5         2.35
## 1497   35000000       2015                     22        7.4         2.35
## 1538   30000000       2008                    107        6.0         2.35
## 1604   25000000       2003                    541        8.0         2.35
## 1627   37000000       2004                   2000        6.1         1.85
## 1644         NA       2006                    663        7.2         2.35
## 1651   30000000       2002                    495        5.6         1.85
## 1655   30000000       2008                    759        2.7         1.85
## 1657   27000000       1987                    571        6.6         1.37
## 1665         NA         NA                    638        8.5         1.78
## 1669   30000000       2013                    681        7.1         1.85
## 1779   28000000       1995                   1000        6.9         2.35
## 1793   28000000       2013                    927        6.6         2.35
## 1804   30000000       1991                   1000        7.2         2.35
## 1829   27000000       2004                    968        6.4         2.35
## 1873   26000000       2014                    523        6.7         2.35
## 1878   80000000       2004                   2000        4.9         1.85
## 1919         NA       2005                    619        5.5         2.35
## 1935   25000000       1997                    401        3.3         1.85
## 1950   25000000       2010                    673        6.4         2.35
## 1995   33000000       2006                    521        5.6         2.35
## 2008   25000000       2010                    173        7.1         2.35
## 2022   24000000       1997                    851        6.1         2.35
## 2044   24000000       1998                    284        3.9           NA
## 2048   24000000       2004                    713        8.2         1.85
## 2057   23000000       2000                    991        7.1         2.35
## 2075   23000000       2009                    123        6.2         2.35
## 2085   20000000       2002                   1000        7.0         2.35
## 2089   22000000       1982                    429        8.1         2.35
## 2109   22000000       2001                    486        5.3         1.85
## 2146   21000000       2008                    901        6.1         2.35
## 2150   21000000       2011                    242        6.7         2.35
## 2170   30000000       2004                     93        7.0         2.35
## 2181    1800000       1971                    165        7.8         1.85
## 2185   20000000       2014                   1000        7.5         2.35
## 2187   20000000       2005                    392        4.1         1.85
## 2189   30000000       2000                    253        6.3         1.78
## 2206   19800000       2014                   1000        6.6         2.35
## 2209   11000000       2013                    333        4.8         2.35
## 2220   20000000       2000                    960        7.6         1.85
## 2233   20000000       1990                  19000        6.8         2.35
## 2267   20000000       1965                    208        6.6         2.76
## 2276   20000000       1994                    979        7.5         1.85
## 2286   20000000       2005                    378        7.1         1.85
## 2329   20000000       2003                    624        2.8         1.85
## 2335 2127519898       2004                    336        6.9         1.85
## 2351   20000000       2014                    282        4.8           NA
## 2390   18500000       1998                    693        7.7         2.35
## 2397   17000000       1984                    664        6.6         2.35
## 2418   25000000       2003                   1000        5.3         1.85
## 2457   18000000       2016                    820        6.7         2.35
## 2465         NA       2013                    253        7.2         2.35
## 2469   11350000       1999                    578        6.2         2.35
## 2477         NA       2009                    619        4.1         1.85
## 2482   24000000       2007                    794        6.3         2.35
## 2485   17500000       2002                     67        6.0         1.85
## 2486   17000000       2001                    203        7.6         1.85
## 2512    4000000       2006                    400        3.1         1.33
## 2546   15000000       2011                    897        8.0         1.33
## 2558   15000000       1991                     67        5.5         1.85
## 2580   16000000       1986                    309        7.2         1.85
## 2604   22000000       1982                    521        7.4         2.35
## 2615   14000000       2014                    393        8.1         2.35
## 2631   15000000       1997                   4000        7.1         1.85
## 2638   16000000       2001                    983        5.7         1.85
## 2656   15000000       1998                    511        6.0         1.85
## 2684   15000000       2014                    164        6.8         2.35
## 2697   15000000       1998                    417        2.8         1.85
## 2701   15000000       1985                   5000        8.0         1.85
## 2728         NA         NA                    555        7.9         1.78
## 2730   15000000       1986                    324        5.3         2.35
## 2734         NA       1999                    203        7.0         2.35
## 2737    7000000       1995                    970        6.8         1.85
## 2742         NA       2010                    794        6.4         2.35
## 2750   20000000       2013                  12000        5.8           NA
## 2751    7000000       2014                    889        6.1         2.35
## 2767   15800000       1988                    162        5.5         2.35
## 2797         NA       2007                    490        5.5         1.85
## 2822   12000000       1995                    281        6.8         1.85
## 2832         NA       2013                     50        6.3         1.85
## 2833   13000000       1987                    263        7.3         1.85
## 2864   19000000       2006                     85        7.9         2.35
## 2939   12000000       2002                    989        6.8         1.85
## 2967         NA       2010                    826        5.8         2.35
## 3005   12000000       2007                    345        7.5         2.35
## 3051   11000000       2000                    723        5.1         1.85
## 3059   11000000       1993                  29000        7.8         1.85
## 3081   10500000       1982                    725        7.9         1.85
## 3090   10000000       1997                  13000        8.3         1.85
## 3094   10000000       2000                    464        5.9         1.85
## 3185    9000000       2014                    837        6.6         2.35
## 3198   10000000       2011                    503        3.3         1.85
## 3218   10000000       2008                    175        5.7         1.78
## 3223         NA       1997                    130        6.8         2.35
## 3232         NA       2010                    664        6.7         2.35
## 3247   10000000       2011                    152        4.5         2.35
## 3288    9000000       2007                    203        8.0         1.85
## 3300    8500000       2000                    127        6.7         1.85
## 3304         NA         NA                    170        3.5         1.78
## 3324    8800000       1986                    162        6.5         2.35
## 3357         NA       1979                    985        7.7         1.85
## 3360    8200000       1965                    209        8.0         2.35
## 3374         NA       2016                    163        7.8           NA
## 3387    8000000       2009                   3000        6.3         2.35
## 3393    8000000       2011                    962        5.4         1.85
## 3407    8000000       1997                    273        6.8         1.66
## 3421    8000000       2006                    551        6.4         2.35
## 3425   22000000       2007                  10000        5.9         2.35
## 3427    8000000       2014                    920        4.6           NA
## 3439    6500000       2005                    829        7.6         2.35
## 3441    4500000       2009                    766        7.3         2.35
## 3480    7000000       1995                  12000        7.2         1.85
## 3495    7000000       2003                    340        6.0         1.85
## 3501    7000000       2009                    343        7.6         2.35
## 3507    7000000       1992                    192        6.2         1.85
## 3508         NA         NA                    485        7.7        16.00
## 3541    6900000       1985                    455        7.3         2.35
## 3547   15000000       1999                     66        7.3         1.85
## 3549    6800000       2003                     83        6.4         2.35
## 3552    5000000       2003                     29        6.5         2.35
## 3561    6500000       1993                    827        6.2         1.85
## 3562    6500000       1999                    563        7.3         2.35
## 3595    6000000       2002                    876        6.4         1.85
## 3625    6000000       2001                    261        7.8         1.85
## 3629    6000000       2001                    230        5.8         1.85
## 3639    6000000       2011                    595        6.1         2.35
## 3681    6500000       1989                    652        7.9         1.85
## 3682    5500000       2001                    902        4.9         2.35
## 3703    5000000       2014                    707        4.4         2.35
## 3743    5000000       2008                    984        3.8         1.85
## 3755    8000000       2009                    578        6.1         1.85
## 3783    5000000       2010                    289        7.0         1.85
## 3795    3209000       1947                    116        6.2         1.37
## 3837    5000000       2007                    580        5.3         2.35
## 3840    4600000       2007                   1000        5.9         1.85
## 3850    4500000       2000                   1000        8.4         1.37
## 3883         NA       1997                    232        7.1         1.85
## 3885    2300000       1992                    530        7.3         2.35
## 3901         NA         NA                   1000        7.5         1.78
## 3953    4000000       1997                    759        5.8         1.85
## 3969    2000000       1966                    269        7.9         1.66
## 3973    3800000       1965                    575        6.8         2.35
## 3976         NA       2010                    365        7.3         1.85
## 3995    3500000       1966                    481        7.0         2.35
## 4032    3400000       2012                    144        6.6           NA
## 4054    3000000       1998                    588        7.4         2.35
## 4096    3000000       1997                    341        5.3         1.85
## 4098    4500000       2001                    813        7.1         1.85
## 4107    3500000       2010                    399        6.3         1.78
## 4146    2900000       1961                    416        7.3         2.35
## 4161  120000000       2006                    426        8.2         2.35
## 4164    3000000       2015                     85        6.6           NA
## 4177   15000000       2009                      4        7.4         2.35
## 4192    3200000       2003                     16        6.6         1.85
## 4211    2500000       2015                    625        5.0         2.35
## 4221         NA       1998                    599        6.8         1.85
## 4307         NA       2003                    356        5.4         1.85
## 4373         NA       2016                    258        8.7           NA
## 4374    1800000       2013                    108        3.4           NA
## 4382    1700000       2001                    874        7.5         2.35
## 4434    1700000       2010                      8        5.8           NA
## 4489    1300000       2013                     24        7.0           NA
## 4498         NA       1940                     62        6.5         1.37
## 4500    4000000       2015                      9        7.9         2.35
## 4573    1000000       2000                    186        6.2         2.35
## 4577    1000000       1997                    394        7.0         1.85
## 4602    1000000       2006                    163        6.1         1.85
## 4620    1000000       2012                    383        2.2         1.78
## 4643     950000       2005                      8        7.1         2.35
## 4656     825000       2002                    234        5.6         1.85
## 4657     500000       2006                    146        7.0         2.35
## 4690         NA       2005                     23        7.1         1.33
## 4691         NA       2014                   4000        8.1           NA
## 4786     450000       2013                    469        6.8           NA
## 4817    1750211       2005                      0        7.8         1.85
## 4871         NA       2004                     64        6.9           NA
## 4876     250000       2010                     53        5.7         1.78
## 4890     250000       2015                    755        4.0           NA
## 4987         NA       1983                    308        6.4         2.35
## 4994    4000000       2014                    680        6.1         2.35
## 5010      27000       1971                      0        6.7         1.37
## 5032     200000       2012                     98        5.4        16.00
## 5040         NA         NA                    593        7.5        16.00
##      movie_facebook_likes
## 9                  118000
## 106                     0
## 120                 10000
## 127                     0
## 144                     0
## 166                 18000
## 171                     0
## 184                     0
## 197                     0
## 205                     0
## 248                     0
## 266                 36000
## 302                     0
## 310                     0
## 316                     0
## 326                     0
## 335                     0
## 338                 16000
## 351                  1000
## 375                   988
## 383                     0
## 387                  2000
## 409                 19000
## 418                     0
## 572                     0
## 600                 45000
## 602                 25000
## 620                 17000
## 671                 59000
## 693                   295
## 698                 19000
## 702                     0
## 704                     0
## 765                     0
## 773                 23000
## 778                     0
## 828                 11000
## 831                   782
## 898                     0
## 923                   846
## 965                  1000
## 978                     0
## 983                     0
## 1005                  705
## 1006                    0
## 1018                18000
## 1049                    0
## 1081                 1000
## 1082                22000
## 1098                    0
## 1103                  531
## 1110                 2000
## 1117                    0
## 1127                15000
## 1136                17000
## 1146                    0
## 1203                14000
## 1214                13000
## 1243                    0
## 1278                  299
## 1282                    0
## 1322                    0
## 1329                15000
## 1337                    0
## 1382                35000
## 1383                  240
## 1391                  591
## 1392                  846
## 1429                39000
## 1490                    0
## 1497                24000
## 1538                    0
## 1604                12000
## 1627                    0
## 1644                    0
## 1651                    0
## 1655                    0
## 1657                    0
## 1665                    0
## 1669                29000
## 1779                    0
## 1793                36000
## 1804                    0
## 1829                 2000
## 1873                19000
## 1878                  567
## 1919                  671
## 1935                    0
## 1950                    0
## 1995                 4000
## 2008                    0
## 2022                    0
## 2044                  839
## 2048                13000
## 2057                 5000
## 2075                    0
## 2085                    0
## 2089                12000
## 2109                    0
## 2146                 1000
## 2150                17000
## 2170                    0
## 2181                    0
## 2185                22000
## 2187                 1000
## 2189                  347
## 2206                14000
## 2209                16000
## 2220                10000
## 2233                    0
## 2267                 1000
## 2276                  979
## 2286                    0
## 2329                  241
## 2335                  973
## 2351                   70
## 2390                15000
## 2397                    0
## 2418                    0
## 2457                    0
## 2465                19000
## 2469                  271
## 2477                  804
## 2482                    0
## 2485                  204
## 2486                20000
## 2512                  110
## 2546                30000
## 2558                    0
## 2580                    0
## 2604                    0
## 2615               165000
## 2631                12000
## 2638                    0
## 2656                  849
## 2684                13000
## 2697                  436
## 2701                16000
## 2728                  733
## 2730                  843
## 2734                  284
## 2737                    0
## 2742                    0
## 2750                    0
## 2751                13000
## 2767                  489
## 2797                  488
## 2822                    0
## 2832                29000
## 2833                    0
## 2864                 5000
## 2939                    0
## 2967                    0
## 3005                    0
## 3051                  671
## 3059                14000
## 3081                34000
## 3090                31000
## 3094                    0
## 3185                    0
## 3198                    0
## 3218                  883
## 3223                   85
## 3232                  503
## 3247                    0
## 3288                    0
## 3300                 1000
## 3304                  748
## 3324                    0
## 3357                    0
## 3360                15000
## 3374                  240
## 3387                    0
## 3393                    0
## 3407                    0
## 3421                  294
## 3425                    0
## 3427                  438
## 3439                    0
## 3441                12000
## 3480                    0
## 3495                    0
## 3501                16000
## 3507                    0
## 3508                    0
## 3541                    0
## 3547                  687
## 3549                  413
## 3552                  282
## 3561                  391
## 3562                    0
## 3595                    0
## 3625                    0
## 3629                  289
## 3639                    0
## 3681                    0
## 3682                  113
## 3703                18000
## 3743                  562
## 3755                  738
## 3783                    0
## 3795                   44
## 3837                   31
## 3840                    0
## 3850                38000
## 3883                   61
## 3885                    0
## 3901                  634
## 3953                  161
## 3969                 2000
## 3973                  251
## 3976                17000
## 3995                  470
## 4032                    0
## 4054                    0
## 4096                  417
## 4098                  430
## 4107                    0
## 4146                  612
## 4161                  349
## 4164                   50
## 4177                   30
## 4192                   39
## 4211                    0
## 4221                  500
## 4307                   61
## 4373                    8
## 4374                  566
## 4382                  951
## 4434                  594
## 4489                  407
## 4498                  548
## 4500                    0
## 4573                   92
## 4577                  166
## 4602                  244
## 4620                  150
## 4643                12000
## 4656                  409
## 4657                  933
## 4690                  903
## 4691                 1000
## 4786                   31
## 4817                    0
## 4871                  122
## 4876                  141
## 4890                  244
## 4987                  114
## 4994                10000
## 5010                   85
## 5032                  424
## 5040                32000</code></pre>
</div>
<div id="k-hoach-phan-tich-d-liu" class="slide section level2">
<h1>Kế hoạch phân tích dữ liệu</h1>
<pre><code>    Mô tả các biến output (response, Y) và input (explanatory, X) bạn dự định để trả lời câu hỏi.
    
    Các câu hỏi:
    1. Liệu những bộ phim với mức kinh phí cao có đặt được nhiều lượt đánh giá cao không?
    2. lượt bình chọn người dùng liệu có quan hệ với chất lượng phim
    3. Liệu lượng bình chọn của nhà phê bình (biến num_critic_for_reviews) có quyết định đến lượng bình chọn tổng thể trên mọi phương tiện đại chúng, các trang bình chọn không?
    </code></pre>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
